{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./@core/src/index.ts","webpack:///./node_modules/@sardonyxwt/utils/synchronized/synchronized.min.js","webpack:///./node_modules/riot-observable/dist/observable.js","webpack:///./@core/src/service/localization.service.ts","webpack:///./@core/src/service/resource.service.ts","webpack:///./@core/src/service/router.service.ts","webpack:///./@core/src/service/config.service.ts","webpack:///./@core/src/service/rest.service.ts","webpack:///./node_modules/@sardonyxwt/state-store/dist/state-store.min.js","webpack:///./node_modules/preact/dist/preact.esm.js","webpack:///./@preact/src/service/preact.jsx.service.ts","webpack:///./@core/src/service/jsx.service.ts","webpack:///./node_modules/riot-route/lib/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./@preact/src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","ligui","Store","rest_service_1","config_service_1","router_service_1","resource_service_1","localization_service_1","__export","jsx","rest","restService","config","configService","router","routerService","resources","resourceService","localization","localizationService","utils","extensions","store","global","self","e","t","default","4","this","action","cache","has","remove","then","createSyncCache","syncPromises","Promise","all","map","resolve","window","el","callbacks","slice","Array","defineProperties","on","event","fn","push","writable","off","cb","arr","splice","one","apply","arguments","trigger","fns","arglen","length","args","concat","SynchronizedUtil","_core_1","LOCALIZATION_SCOPE_NAME","LOCALIZATION_SCOPE_ACTION_ADD","LOCALIZATION_SCOPE_ACTION_CHANGE","LocalizationServiceImpl","changeLocale","locale","scope","dispatch","getScope","getLocales","getState","locales","getDefaultLocale","defaultLocale","getCurrentLocale","currentLocale","subscribe","id","subscriber","_this","localizationCache","listenerId","unsubscribe","state","localizationId","localizations","key","defaultTranslator","isFirstCall","configure","Error","createScope","initState","registerAction","props","assign","_a","find","freeze","split","loader","RESOURCES_SCOPE_NAME","RESOURCES_SCOPE_ACTION_ADD","ResourceServiceImpl","set","path","resource","isCache","resourceCache","promise","riot_route_1","ROUTER_SCOPE_NAME","ROUTER_SCOPE_ACTION_CHANGE","RouterServiceImpl","route","rules","routerContext","create","base","forEach","rule","_i","result","go","title","replace","getQueryParams","queryParams","getCurrentLocation","currentLocation","alert","join","query","newScope","console","log","start","CONFIG_SCOPE_NAME","CONFIG_SCOPE_ACTION_LOAD","ConfigServiceImpl","configCache","configs","RestServiceImpl","_defaultProps","credentials","headers","Accept","Content-Type","post","endpoint","options","request","method","put","del","includes","body","JSON","stringify","fetch","buildUrl","response","ok","statusText","url","getOwnPropertyNames","k","encodeURIComponent","uniqueId","f","u","isFrozen","actions","listeners","deepFreeze","oldScope","actionName","ROOT_SCOPE","3","charAt","Math","floor","random","generateSeed","__webpack_exports__","stack","EMPTY_CHILDREN","h","nodeName","attributes","lastSimple","child","simple","children","pop","undefined","String","vnode","extend","obj","defer","bind","setTimeout","cloneElement","IS_NON_DIMENSIONAL","items","enqueueRender","component","_dirty","debounceRendering","rerender","list","renderComponent","isNamedNode","node","normalizedNodeName","toLowerCase","getNodeProps","defaultProps","removeNode","parentNode","removeChild","setAccessor","old","isSvg","style","cssText","test","innerHTML","__html","useCapture","substring","addEventListener","eventProxy","removeEventListener","_listeners","setProperty","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","className","type","mounts","diffLevel","isSvgMode","hydrating","flushMounts","afterMount","componentDidMount","diff","dom","context","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","appendChild","out","prevSvgMode","splitText","_component","nodeValue","document","createTextNode","replaceChild","recollectNodeTree","vnodeName","originalComponent","oldDom","isDirectOwner","_componentConstructor","isOwner","_parentComponent","constructor","setComponentProps","unmountComponent","createComponent","nextBase","buildComponentFromVNode","createElementNS","createElement","firstChild","fc","vchildren","a","nextSibling","isHydrating","j","vchild","originalChildren","childNodes","keyed","keyedLen","min","len","childrenLen","vlen","_child","__key","trim","insertBefore","innerDiffNode","dangerouslySetInnerHTML","attrs","diffAttributes","unmountOnly","ref","removeChildren","lastChild","next","previousSibling","components","Ctor","inst","render","Component","doRender","opts","_disable","__ref","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","skip","shouldComponentUpdate","componentWillUpdate","getChildContext","toUnmount","childComponent","childProps","baseParent","componentRef","unshift","componentDidUpdate","afterUpdate","_renderCallbacks","beforeUnmount","componentWillUnmount","inner","collectComponent","merge","setState","callback","forceUpdate","preact","preact_1","JsxServiceImpl","_super","__extends","isReplaced","nodes","querySelectorAll","item","firstElementChild","JSXService","preactJsxService","register","debouncedEmit","current","parser","secondParser","RE_ORIGIN","ADD_EVENT_LISTENER","HAS_ATTRIBUTE","POPSTATE","HASHCHANGE","TRIGGER","MAX_EMIT_STACK_LEVEL","win","doc","hist","history","loc","location","prot","Router","clickEvent","ontouchstart","central","riot_observable__WEBPACK_IMPORTED_MODULE_0___default","started","routeFound","emitStack","emitStackLevel","DEFAULT_PARSER","DEFAULT_SECOND_PARSER","filter","re","RegExp","match","autoExec","delay","emit","clearTimeout","click","$","normalize","isString","str","getPathFromRoot","href","getPathFromBase","force","isRoot","first","shift","which","metaKey","ctrlKey","shiftKey","defaultPrevented","target","indexOf","preventDefault","shouldReplace","replaceState","pushState","second","third","some","mainRouter","newSubRouter","stop","arg","exec","fn2","q","_","v","readyState","onreadystatechange","g","Function","eval","Preact","preact_jsx_service_1"],"mappings":"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","file":"@preact/dist/ligui.preact.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n","import * as Store from '@sardonyxwt/state-store';\nimport { JSXService } from './service/jsx.service';\nimport { restService, RestService } from './service/rest.service';\nimport { configService, ConfigService } from './service/config.service';\nimport { routerService, RouterService } from './service/router.service';\nimport { resourceService, ResourceService } from './service/resource.service';\nimport { localizationService, LocalizationService } from './service/localization.service';\n\nexport * from '@sardonyxwt/state-store';\nexport * from './service/jsx.service';\nexport * from './service/rest.service';\nexport * from './service/config.service';\nexport * from './service/router.service';\nexport * from './service/resource.service';\nexport * from './service/localization.service';\n\nexport namespace ligui {\n  export let jsx: JSXService = null;\n  export let rest: RestService = restService;\n  export let config: ConfigService = configService;\n  export let router: RouterService = routerService;\n  export let resources: ResourceService = resourceService;\n  export let localization: LocalizationService = localizationService;\n  export let utils: { [id: string]: any } = {};\n  export let extensions: { [id: string]: any } = {};\n  export let store = Store;\n}\n\nglobal['ligui'] = ligui;\n","!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\"object\"==typeof exports?exports:e)[r]=n[r]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=4)}({4:function(e,t,n){\"use strict\";function r(e){return new i(e)}function o(e){return Promise.all(e.map(function(e){return Promise.resolve(e)}))}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e){this.action=e,this.cache={}}return e.prototype.get=function(e){if(e in this.cache)return this.cache[e];var t=this.action(e);return this.cache[e]=t,t},e.prototype.has=function(e){return e in this.cache},e.prototype.remove=function(e){var t=this,n=this.has(e);return n&&this.get(e).then(function(){return delete t.cache[e]}),n},e}();t.createSyncCache=r,t.syncPromises=o}})});\n//# sourceMappingURL=synchronized.min.js.map",";(function(window, undefined) {var observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          (callbacks[event] = callbacks[event] || []).push(fn)\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) callbacks = {}\n        else {\n          if (fn) {\n            var arr = callbacks[event]\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) arr.splice(i--, 1)\n            }\n          } else delete callbacks[event]\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0)\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args)\n        }\n\n        if (callbacks['*'] && event != '*')\n          el.trigger.apply(el, ['*', event].concat(args))\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\n  /* istanbul ignore next */\n  // support CommonJS, AMD & browser\n  if (typeof exports === 'object')\n    module.exports = observable\n  else if (typeof define === 'function' && define.amd)\n    define(function() { return observable })\n  else\n    window.observable = observable\n\n})(typeof window != 'undefined' ? window : undefined);","import * as SynchronizedUtil from '@sardonyxwt/utils/synchronized';\nimport { createScope, Scope } from '@core';\n\nexport type Translator = (key: string) => string;\n\nexport interface Localization {\n  [key: string]: string\n}\n\nexport interface LocalizationProviderState {\n  locales: string[];\n  defaultLocale: string;\n  currentLocale: string;\n  localizations: { [key: string]: Localization }\n}\n\nexport interface LocalizationProviderConfig {\n  loader: (locale: string, id: string) => Promise<Localization>;\n  initState: LocalizationProviderState;\n}\n\nexport interface LocalizationService {\n  changeLocale(locale: string): Promise<LocalizationProviderState>;\n  getScope(): Scope<LocalizationProviderState>;\n  getLocales(): string[];\n  getDefaultLocale(): string;\n  getCurrentLocale(): string;\n  subscribe(id: string, subscriber: (t: Translator) => void): void;\n  configure(config: LocalizationProviderConfig): void;\n}\n\nexport const LOCALIZATION_SCOPE_NAME = 'LOCALIZATION_SCOPE';\nexport const LOCALIZATION_SCOPE_ACTION_ADD = 'ADD_LOCALIZATION';\nexport const LOCALIZATION_SCOPE_ACTION_CHANGE = 'CHANGE_LOCALIZATION';\n\nclass LocalizationServiceImpl implements LocalizationService {\n\n  private scope: Scope<LocalizationProviderState>;\n  private defaultTranslator: Translator;\n  private localizationCache: SynchronizedUtil.SynchronizedCache<Localization>;\n\n  changeLocale(locale: string): Promise<LocalizationProviderState> {\n    return this.scope.dispatch(LOCALIZATION_SCOPE_ACTION_CHANGE, locale);\n  }\n\n  getScope() {\n    return this.scope;\n  }\n\n  getLocales(): string[] {\n    return this.scope.getState().locales.slice();\n  }\n\n  getDefaultLocale(): string {\n    return this.scope.getState().defaultLocale;\n  }\n\n  getCurrentLocale(): string {\n    return this.scope.getState().currentLocale;\n  }\n\n  subscribe(id: string, subscriber: (t: Translator) => void) {\n    const {scope, localizationCache} = this;\n\n    const listenerId = scope.subscribe(() => {\n      scope.unsubscribe(listenerId);\n      this.subscribe(id, subscriber);\n    }, LOCALIZATION_SCOPE_ACTION_CHANGE);\n\n    let state = scope.getState();\n    let localizationId = `${scope.getState().currentLocale}:${id}`;\n    let localization = state.localizations[localizationId];\n    if (localization) {\n      subscriber((key: string) => localization[key]);\n      return;\n    }\n    subscriber(this.defaultTranslator);\n\n    const isFirstCall = !localizationCache.has(localizationId);\n    this.localizationCache.get(localizationId).then(localization => {\n      if (isFirstCall) {\n        scope.dispatch(\n          LOCALIZATION_SCOPE_ACTION_ADD,\n          {id, localization}\n        ).then(\n          () => localizationCache.remove(localizationId)\n        );\n      }\n      subscriber((key: string) => localization[key]);\n    });\n  }\n\n  configure(config: LocalizationProviderConfig) {\n    if (this.scope) {\n      throw new Error('ResourceService must configure only once.');\n    }\n    this.scope = createScope<LocalizationProviderState>(\n      LOCALIZATION_SCOPE_NAME,\n      config.initState\n    );\n    this.scope.registerAction(\n      LOCALIZATION_SCOPE_ACTION_ADD,\n      (scope, props, resolve) => {\n        const localizations = Object.assign(\n          scope.localizations,\n          {[props.id]: props.localization}\n        );\n        resolve(Object.assign(scope, {localizations}));\n      }\n    );\n    this.scope.registerAction(\n      LOCALIZATION_SCOPE_ACTION_CHANGE,\n      (scope, currentLocale, resolve) => {\n        const isSupportLocale = scope.locales.find(\n          locale => locale === currentLocale\n        );\n        if (!isSupportLocale) {\n          throw new Error('Locale not supported.');\n        }\n        resolve(Object.assign(scope, {currentLocale}));\n      }\n    );\n    this.scope.freeze();\n    this.localizationCache = SynchronizedUtil.createSyncCache<Localization>((key: string) => {\n      const [locale, id] = key.split(':');\n      return config.loader(locale, id);\n    });\n    this.defaultTranslator = () => '...';\n  }\n\n}\n\nexport const localizationService: LocalizationService = new LocalizationServiceImpl();\n","import * as SynchronizedUtil from '@sardonyxwt/utils/synchronized';\nimport { createScope, Scope } from '@core';\n\nexport interface ResourceProviderState { resources: { [key: string]: any } }\nexport interface ResourceProviderConfig {\n  loader: (path: string) => Promise<any>,\n  initState?: ResourceProviderState\n}\nexport interface ResourceService {\n  set(path: string, resource: any): Promise<ResourceProviderState>;\n  get(path: string, isSave?: boolean): Promise<any>;\n  getScope(): Scope<ResourceProviderState>;\n  configure(config: ResourceProviderConfig): void;\n}\n\nexport const RESOURCES_SCOPE_NAME = 'RESOURCES_SCOPE';\nexport const RESOURCES_SCOPE_ACTION_ADD = 'ADD_RESOURCE';\n\nclass ResourceServiceImpl implements ResourceService {\n\n  private scope: Scope<ResourceProviderState>;\n  private resourceCache: SynchronizedUtil.SynchronizedCache<any>;\n\n  set(path: string, resource) {\n    return this.scope.dispatch(RESOURCES_SCOPE_ACTION_ADD, {\n      path, resource\n    })\n  }\n\n  get(path: string, isCache?: boolean): Promise<any> {\n    const resource = this.scope.getState().resources[path];\n    if (resource) {\n      return new Promise<any>(resolve => resolve(resource));\n    }\n    if (this.resourceCache.has(path)) {\n      return this.resourceCache.get(path);\n    } else {\n      const promise = this.resourceCache.get(path);\n      promise.then(resource => {\n        this.resourceCache.remove(path);\n        if (isCache) {\n          this.scope.dispatch(RESOURCES_SCOPE_ACTION_ADD, {\n            path, resource\n          })\n        }\n      });\n      return promise\n    }\n  }\n\n  getScope() {\n    return this.scope;\n  }\n\n  configure(config: ResourceProviderConfig) {\n    if (this.scope) {\n      throw new Error('ResourceService must configure only once.');\n    }\n    this.scope = createScope<ResourceProviderState>(\n      RESOURCES_SCOPE_NAME,\n      config.initState || {resources: {}}\n    );\n    this.scope.registerAction(\n      RESOURCES_SCOPE_ACTION_ADD,\n      (scope, props, resolve) => {\n        resolve(Object.assign(scope, {[props.path]: props.resource}))\n      });\n    this.scope.freeze();\n    this.resourceCache = SynchronizedUtil.createSyncCache<any>(config.loader);\n  }\n\n}\n\nexport const resourceService: ResourceService = new ResourceServiceImpl();\n","import route from 'riot-route'\nimport { createScope, Scope } from '@core';\n\nexport interface QueryParams { [key: string]: string | number | boolean; }\nexport interface RouteRule<T> { path: string; action: (...args: any[]) => Promise<T>; }\nexport interface RouterProviderState {\n  base?: string;\n  currentLocation?: string;\n  queryParams?: QueryParams\n}\nexport interface RouterProviderConfig { initState?: RouterProviderState; }\nexport interface RouterService {\n  route<T>(rules: RouteRule<T>[], subscriber: (result: T) => void): void;\n  go(path: string, title?: string, replace?: boolean): void;\n  getScope(): Scope<RouterProviderState>;\n  getQueryParams(): QueryParams;\n  getCurrentLocation(): string;\n  configure(config: RouterProviderConfig): void;\n}\n\nexport const ROUTER_SCOPE_NAME = 'ROUTER_SCOPE';\nexport const ROUTER_SCOPE_ACTION_CHANGE = 'CHANGE_LOCATION';\n\nclass RouterServiceImpl implements RouterService {\n\n  private scope: Scope<RouterProviderState>;\n\n  route<T>(rules: RouteRule<T>[], subscriber: (result: T) => void) {\n    const routerContext = route.create();\n    routerContext.base(this.scope.getState().base);\n    rules.forEach(rule => {\n      routerContext.route(rule.path, (...args: any[]) => {\n        rule.action(args).then(\n          result => subscriber(result)\n        );\n      })\n    });\n  }\n\n  go(path: string, title?: string, replace?: boolean) {\n    route(path, title, replace);\n  }\n\n  getScope() {\n    return this.scope;\n  }\n\n  getQueryParams() {\n    return this.scope.getState().queryParams;\n  }\n\n  getCurrentLocation() {\n    return this.scope.getState().currentLocation\n  }\n\n  configure(config: RouterProviderConfig) {\n    if (this.scope) {\n      throw new Error('RouterService must configure only once.');\n    }\n    const initState: RouterProviderState = config.initState || {};\n    initState.base = initState.base || '#';\n    initState.queryParams = initState.queryParams || {};\n    initState.currentLocation = initState.currentLocation || '/';\n\n    this.scope = createScope<RouterProviderState>(\n      ROUTER_SCOPE_NAME,\n      initState\n    );\n    this.scope.registerAction(\n      ROUTER_SCOPE_ACTION_CHANGE,\n      (scope, props, resolve) => {\n        resolve({\n          base: scope.base,\n          queryParams: props.queryParams,\n          currentLocation: props.currentLocation,\n        });\n      }\n    );\n    this.scope.freeze();\n    route((...args: any[]) => {\n      alert(args.join('/'));\n      this.scope.dispatch(ROUTER_SCOPE_ACTION_CHANGE, {\n        queryParams: route.query(),\n        currentLocation: args.join('/')\n      }).then(\n        newScope => console.log(`Location changed ${newScope.currentLocation}`)\n      )\n    });\n    route.start();\n  }\n\n}\n\nexport const routerService: RouterService = new RouterServiceImpl();\n","import * as SynchronizedUtil from '@sardonyxwt/utils/synchronized';\nimport { createScope, Scope } from '@core';\n\nexport interface ConfigProviderState {\n  configs: { [key: string]: any }\n}\n\nexport interface ConfigProviderConfig {\n  loader: (name: string) => Promise<any>;\n  initState?: ConfigProviderState;\n}\n\nexport interface ConfigService {\n  set(name: string, config): Promise<ConfigProviderState>;\n  get<T = any>(name: string): Promise<T>;\n  getScope(): Scope<ConfigProviderState>;\n  configure(config: ConfigProviderConfig);\n}\n\nexport const CONFIG_SCOPE_NAME = 'CONFIG_SCOPE';\nexport const CONFIG_SCOPE_ACTION_LOAD = 'LOAD_CONFIG';\n\nclass ConfigServiceImpl implements ConfigService {\n\n  private scope: Scope<ConfigProviderState>;\n  private configCache: SynchronizedUtil.SynchronizedCache<any>;\n\n  set(name: string, config) {\n    return this.scope.dispatch(\n      CONFIG_SCOPE_ACTION_LOAD, {name, config}\n    );\n  }\n\n  get<T = any>(name: string): Promise<T> {\n    let config = this.scope.getState()[name];\n    if (config) {\n      return Promise.resolve(config);\n    }\n    if (this.configCache.has(name)) {\n      return this.configCache.get(name);\n    }\n    return this.configCache.get(name).then(config => {\n      this.configCache.remove(name);\n      return this.scope.dispatch(\n        CONFIG_SCOPE_ACTION_LOAD,\n        {name, config}\n      ).then(scope => scope[name]);\n    });\n  }\n\n  getScope() {\n    return this.scope;\n  }\n\n  configure(config: ConfigProviderConfig) {\n    if (this.scope) {\n      throw new Error('ConfigService must configure only once.');\n    }\n    this.scope = createScope<ConfigProviderState>(\n      CONFIG_SCOPE_NAME,\n      config.initState || {configs: {}}\n    );\n    this.scope.registerAction(\n      CONFIG_SCOPE_ACTION_LOAD,\n      (scope, props, resolve) => resolve(\n        Object.assign(scope, {[props.name]: props.config})\n      )\n    );\n    this.scope.freeze();\n\n    this.configCache = SynchronizedUtil.createSyncCache<any>(config.loader);\n  }\n\n}\n\nexport const configService: ConfigService = new ConfigServiceImpl();\n","export interface RequestProps extends RequestInit {\n  queryParams?: { [key: string]: string }\n}\n\nexport interface RestService {\n  defaultProps: RequestInit;\n  post(endpoint: string, options?: RequestProps): Promise<Response>;\n  put(endpoint: string, options?: RequestProps): Promise<Response>;\n  get(endpoint: string, options?: RequestProps): Promise<Response>;\n  del(endpoint: string, options?: RequestProps): Promise<Response>;\n  request(endpoint: string, options?: RequestProps): Promise<Response>;\n  buildUrl(endpoint: string, options?: RequestProps): string;\n}\n\nclass RestServiceImpl implements RestService {\n\n  private _defaultProps: RequestInit = {\n    credentials: 'same-origin',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  };\n\n  get defaultProps() {\n    return this._defaultProps;\n  }\n\n  set defaultProps(props: RequestInit) {\n    if (typeof props !== 'object') {\n      throw new Error('Props must not null');\n    }\n    this._defaultProps = props;\n  }\n\n  post(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign(this._defaultProps, options, {\n      method: 'POST'\n    }));\n  }\n\n  put(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign(this._defaultProps, options, {\n      method: 'PUT'\n    }));\n  }\n\n  get(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign(this._defaultProps, options, {\n      method: 'GET'\n    }));\n  }\n\n  del(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign(this._defaultProps, options, {\n      method: 'DELETE'\n    }));\n  }\n\n  request(endpoint: string, options: RequestProps = {}) {\n    if (options.headers && options.headers['Content-Type'].includes('application/json')) {\n      options.body = JSON.stringify(options.body);\n    }\n    return fetch(this.buildUrl(endpoint, options), options).then(response => {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      return response;\n    })\n  }\n\n  buildUrl(endpoint: string, options: RequestProps = {}) {\n    let url = endpoint;\n    const queryParams = options.queryParams;\n    if (queryParams) {\n      url += '?';\n      url += Object.getOwnPropertyNames(queryParams)\n        .map(k => encodeURIComponent(k) + '=' + encodeURIComponent(queryParams[k]))\n        .join('&');\n    }\n    return url;\n  }\n\n}\n\nexport const restService: RestService = new RestServiceImpl();\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"store\",[],t):\"object\"==typeof exports?exports.store=t():e.store=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=0)}([function(e,t,n){\"use strict\";function r(e,t){if(void 0===e&&(e=c.uniqueId(\"scope\")),void 0===t&&(t=null),e in f)throw new Error(\"Scope name must unique\");var n=new s(e,t);return f[e]=n,n}function o(e){return f[e]}function i(){var e={};return Object.getOwnPropertyNames(f).forEach(function(t){e[t]=f[t].getState()}),e}Object.defineProperty(t,\"__esModule\",{value:!0});var u=n(1),c=n(2),s=function(){function e(e,t){this.name=e,this.state=t,this.isFrozen=!1,this.actions={},this.listeners={}}return e.prototype.registerAction=function(e,t){if(this.isFrozen)throw new Error(\"This scope is frozen you can't add new action.\");if(e in this.actions)throw new Error(\"Action name is duplicate in scope \"+this.name);this.actions[e]=t},e.prototype.dispatch=function(e,t){var n=this,r=this.actions[e];if(!r)throw new Error(\"This action not exists \"+e);t&&\"object\"==typeof t&&u.deepFreeze(t);var o=this.state;return new Promise(function(e,n){r(o,t,e,n)}).then(function(r){return u.deepFreeze(r),Object.getOwnPropertyNames(n.listeners).forEach(function(i){return n.listeners[i]({oldScope:o,newScope:r,actionName:e,props:t})}),n.state=r,r})},e.prototype.subscribe=function(e,t){if(t&&!(t in this.actions))throw new Error(\"Action (\"+t+\") not present in scope.\");var n=c.uniqueId(\"listener\");return this.listeners[n]=function(n){t&&t!==n.actionName||e(n)},n},e.prototype.unsubscribe=function(e){return delete this.listeners[e]},e.prototype.freeze=function(){this.isFrozen=!0},e.prototype.getState=function(){return this.state},e}(),f={};t.createScope=r,t.getScope=o,t.getState=i,t.ROOT_SCOPE=r(\"rootScope\",{})},function(e,t,n){!function(t,n){e.exports=n()}(\"undefined\"!=typeof self&&self,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=3)}({3:function(e,t,n){\"use strict\";function r(e){return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];\"object\"==typeof n&&null!==n&&r(n)}),Object.freeze(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.deepFreeze=r}})})},function(e,t,n){!function(t,n){e.exports=n()}(\"undefined\"!=typeof self&&self,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=1)}([,function(e,t,n){\"use strict\";function r(e){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",n=[];n.length<e;)n.push(t.charAt(Math.floor(Math.random()*t.length)));return n}function o(e,t){void 0===e&&(e=\"\"),void 0===t&&(t=!1),i[e]?++i[e]:i[e]=0;var n=e+i[e];return t&&(n=n+\"-\"+r(8).join(\"\")),n}Object.defineProperty(t,\"__esModule\",{value:!0});var i={};t.generateSeed=r,t.uniqueId=o}])})}])});\n//# sourceMappingURL=state-store.min.js.map","/** Virtual DOM Node */\nfunction VNode() {}\n\n/** Global options\n *\t@public\n *\t@namespace options {Object}\n */\nvar options = {\n\n\t/** If `true`, `prop` changes trigger synchronous component updates.\n  *\t@name syncComponentUpdates\n  *\t@type Boolean\n  *\t@default true\n  */\n\t//syncComponentUpdates: true,\n\n\t/** Processes all created VNodes.\n  *\t@param {VNode} vnode\tA newly-created VNode to normalize/process\n  */\n\t//vnode(vnode) { }\n\n\t/** Hook invoked after a component is mounted. */\n\t// afterMount(component) { }\n\n\t/** Hook invoked after the DOM is updated with a component's latest render. */\n\t// afterUpdate(component) { }\n\n\t/** Hook invoked immediately before a component is unmounted. */\n\t// beforeUnmount(component) { }\n};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\n/**\n * JSX/hyperscript reviver.\n * @see http://jasonformat.com/wtf-is-jsx\n * Benchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\n * Note: this is exported as both `h()` and `createElement()` for compatibility reasons.\n *\n * Creates a VNode (virtual DOM element). A tree of VNodes can be used as a lightweight representation\n * of the structure of a DOM tree. This structure can be realized by recursively comparing it against\n * the current _actual_ DOM structure, and applying only the differences.\n *\n * `h()`/`createElement()` accepts an element name, a list of attributes/props,\n * and optionally children to append to the element.\n *\n * @example The following DOM tree\n *\n * `<div id=\"foo\" name=\"bar\">Hello!</div>`\n *\n * can be constructed using this function as:\n *\n * `h('div', { id: 'foo', name : 'bar' }, 'Hello!');`\n *\n * @param {string} nodeName\tAn element name. Ex: `div`, `a`, `span`, etc.\n * @param {Object} attributes\tAny attributes/props to set on the created element.\n * @param rest\t\t\tAdditional arguments are taken to be children to append. Can be infinitely nested Arrays.\n *\n * @public\n */\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\n/**\n *  Copy all properties from `props` onto `obj`.\n *  @param {Object} obj\t\tObject onto which properties should be copied.\n *  @param {Object} props\tObject from which to copy properties.\n *  @returns obj\n *  @private\n */\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\n/**\n * Call a function asynchronously, as soon as possible. Makes\n * use of HTML Promise to schedule the callback if available,\n * otherwise falling back to `setTimeout` (mainly for IE<11).\n *\n * @param {Function} callback\n */\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {VNode} vnode\t\tThe virutal DOM element to clone\n * @param {Object} props\tAttributes/props to add when cloning\n * @param {VNode} rest\t\tAny additional arguments will be used as replacement children.\n */\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\n// DOM properties that should NOT have \"px\" added when numeric\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n/** Managed queue of dirty components to be re-rendered */\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\n/**\n * Check if two nodes are equivalent.\n *\n * @param {Node} node\t\t\tDOM Node to compare\n * @param {VNode} vnode\t\t\tVirtual DOM node to compare\n * @param {boolean} [hyrdating=false]\tIf true, ignores component constructors when comparing.\n * @private\n */\nfunction isSameNodeType(node, vnode, hydrating) {\n  if (typeof vnode === 'string' || typeof vnode === 'number') {\n    return node.splitText !== undefined;\n  }\n  if (typeof vnode.nodeName === 'string') {\n    return !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n  }\n  return hydrating || node._componentConstructor === vnode.nodeName;\n}\n\n/**\n * Check if an Element has a given nodeName, case-insensitively.\n *\n * @param {Element} node\tA DOM Element to inspect the name of.\n * @param {String} nodeName\tUnnormalized name to compare against.\n */\nfunction isNamedNode(node, nodeName) {\n  return node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n *\n * @param {VNode} vnode\n * @returns {Object} props\n */\nfunction getNodeProps(vnode) {\n  var props = extend({}, vnode.attributes);\n  props.children = vnode.children;\n\n  var defaultProps = vnode.nodeName.defaultProps;\n  if (defaultProps !== undefined) {\n    for (var i in defaultProps) {\n      if (props[i] === undefined) {\n        props[i] = defaultProps[i];\n      }\n    }\n  }\n\n  return props;\n}\n\n/** Create an element with the given nodeName.\n *\t@param {String} nodeName\n *\t@param {Boolean} [isSvg=false]\tIf `true`, creates an element within the SVG namespace.\n *\t@returns {Element} node\n */\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n/** Remove a child node from its parent if attached.\n *\t@param {Element} node\t\tThe node to remove\n */\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/** Set a named attribute on the given Node, with special behavior for some names and event handlers.\n *\tIf `value` is `null`, the attribute/handler will be removed.\n *\t@param {Element} node\tAn element to mutate\n *\t@param {string} name\tThe name/key to set, such as an event or attribute name\n *\t@param {any} old\tThe last value that was set for this name/node pair\n *\t@param {any} value\tAn attribute value, such as a function to be used as an event handler\n *\t@param {Boolean} isSvg\tAre we currently diffing inside an svg?\n *\t@private\n */\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {\n\t\t// ignore\n\t} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\tsetProperty(node, name, value == null ? '' : value);\n\t\tif (value == null || value === false) node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink\\:?/, ''));\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/** Attempt to set a DOM property to the given value.\n *\tIE & FF throw for certain property-value combinations.\n */\nfunction setProperty(node, name, value) {\n\ttry {\n\t\tnode[name] = value;\n\t} catch (e) {}\n}\n\n/** Proxy an event to hooked event handlers\n *\t@private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nvar mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nvar diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nvar isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nvar hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *\t@param {Element} [dom=null]\t\tA DOM node to mutate into the shape of the `vnode`\n *\t@param {VNode} vnode\t\t\tA VNode (with descendants forming a tree) representing the desired DOM structure\n *\t@returns {Element} dom\t\t\tThe created/mutated element\n *\t@private\n */\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n/** Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing. */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\t// If the VNode represents a Component, perform a component diff:\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t} // if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *\t@param {Element} dom\t\t\tElement whose children should be compared & mutated\n *\t@param {Array} vchildren\t\tArray of VNodes to compare to `dom.childNodes`\n *\t@param {Object} context\t\t\tImplicitly descendant context object (from most recent `getChildContext()`)\n *\t@param {Boolean} mountAll\n *\t@param {Boolean} isHydrating\tIf `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (!child && min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\n/** Recursively recycle (or just unmount) a node and its descendants.\n *\t@param {Node} node\t\t\t\t\t\tDOM node to start unmount/removal from\n *\t@param {Boolean} [unmountOnly=false]\tIf `true`, only triggers unmount lifecycle, skips removal\n */\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t} else {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n/** Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *\t@param {Element} dom\t\tElement with attributes to diff `attrs` against\n *\t@param {Object} attrs\t\tThe desired end-state key-value attribute pairs\n *\t@param {Object} old\t\t\tCurrent/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\n/** Retains a pool of Components for re-use, keyed on component name.\n *\tNote: since component names are not unique or even necessarily available, these are primarily a form of sharding.\n *\t@private\n */\nvar components = {};\n\n/** Reclaim a component for later re-use by the recycler. */\nfunction collectComponent(component) {\n\tvar name = component.constructor.name;\n\t(components[name] || (components[name] = [])).push(component);\n}\n\n/** Create a component. Normalizes differences between PFC's and classful Components. */\nfunction createComponent(Ctor, props, context) {\n\tvar list = components[Ctor.name],\n\t    inst;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\tif (list) {\n\t\tfor (var i = list.length; i--;) {\n\t\t\tif (list[i].constructor === Ctor) {\n\t\t\t\tinst.nextBase = list[i].nextBase;\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inst;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\n/** Set a component's `props` (generally derived from JSX attributes).\n *\t@param {Object} props\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.renderSync=false]\tIf `true` and {@link options.syncComponentUpdates} is `true`, triggers synchronous rendering.\n *\t@param {boolean} [opts.render=true]\t\t\tIf `false`, no render will be triggered.\n */\nfunction setComponentProps(component, props, opts, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tif (component.__ref = props.ref) delete props.ref;\n\tif (component.__key = props.key) delete props.key;\n\n\tif (!component.base || mountAll) {\n\t\tif (component.componentWillMount) component.componentWillMount();\n\t} else if (component.componentWillReceiveProps) {\n\t\tcomponent.componentWillReceiveProps(props, context);\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (opts !== 0) {\n\t\tif (opts === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\n/** Render a Component, triggering necessary lifecycle events and taking High-Order Components into account.\n *\t@param {Component} component\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.build=false]\t\tIf `true`, component will build and store a DOM node if not already associated with one.\n *\t@private\n */\nfunction renderComponent(component, opts, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (opts !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\t\t\t// set up high order component link\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || opts === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, previousContext);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\tif (component._renderCallbacks != null) {\n\t\twhile (component._renderCallbacks.length) {\n\t\t\tcomponent._renderCallbacks.pop().call(component);\n\t\t}\n\t}\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n/** Apply the Component referenced by a VNode to the DOM.\n *\t@param {Element} dom\tThe DOM node to mutate\n *\t@param {VNode} vnode\tA Component-referencing VNode\n *\t@returns {Element} dom\tThe created/mutated element\n *\t@private\n */\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/** Remove a component from the DOM and recycle it.\n *\t@param {Component} component\tThe Component instance to unmount\n *\t@private\n */\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\tcollectComponent(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\n/** Base Component class.\n *\tProvides `setState()` and `forceUpdate()`, which trigger rendering.\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.context = context;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.props = props;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.state = this.state || {};\n}\n\nextend(Component.prototype, {\n\n\t/** Returns a `boolean` indicating if the component should re-render when receiving the given `props` and `state`.\n  *\t@param {object} nextProps\n  *\t@param {object} nextState\n  *\t@param {object} nextContext\n  *\t@returns {Boolean} should the component re-render\n  *\t@name shouldComponentUpdate\n  *\t@function\n  */\n\n\t/** Update component state by copying properties from `state` to `this.state`.\n  *\t@param {object} state\t\tA hash of state properties to update with new values\n  *\t@param {function} callback\tA function to be called once component state is updated\n  */\n\tsetState: function setState(state, callback) {\n\t\tvar s = this.state;\n\t\tif (!this.prevState) this.prevState = extend({}, s);\n\t\textend(s, typeof state === 'function' ? state(s, this.props) : state);\n\t\tif (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/** Immediately perform a synchronous re-render of the component.\n  *\t@param {function} callback\t\tA function to be called after component is re-rendered.\n  *\t@private\n  */\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\n\n\t/** Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n  *\tVirtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n  *\t@param {object} props\t\tProps (eg: JSX attributes) received from parent element/component\n  *\t@param {object} state\t\tThe component's current state\n  *\t@param {object} context\t\tContext object (if a parent component has provided context)\n  *\t@returns VNode\n  */\n\trender: function render() {}\n});\n\n/** Render JSX into a `parent` Element.\n *\t@param {VNode} vnode\t\tA (JSX) VNode to render\n *\t@param {Element} parent\t\tDOM element to render into\n *\t@param {Element} [merge]\tAttempt to re-use an existing DOM tree rooted at `merge`\n *\t@public\n *\n *\t@example\n *\t// render a div into <body>:\n *\trender(<div id=\"hello\">hello!</div>, document.body);\n *\n *\t@example\n *\t// render a \"Thing\" component into #foo:\n *\tconst Thing = ({ name }) => <span>{ name }</span>;\n *\trender(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\nexport default preact;\n//# sourceMappingURL=preact.esm.js.map\n","import { h, render } from 'preact';\nimport { JSXService } from '@core';\n\nclass JsxServiceImpl extends JSXService {\n\n  render(query: string, component: JSX.Element, isReplaced = false) {\n    const nodes = document.querySelectorAll(query);\n    for (let i = 0; i < nodes.length; i++) {\n      let node = nodes.item(i);\n      render(component, node, isReplaced ? node.firstElementChild : null)\n    }\n    return this;\n  }\n\n  create(name: string, props = {}, children: JSX.Element | JSX.Element[] = []) {\n    return h(this.components[name] || name, props, children);\n  }\n\n}\n\nexport const preactJsxService: JSXService = new JsxServiceImpl();\n","export abstract class JSXService {\n\n  protected components = {};\n\n  register(name: string, component) {\n    if (name in this.components) {\n      throw new Error(`Component with same name is register.`);\n    }\n    this.components[name] = component;\n    return this;\n  }\n\n  remove(query: string) {\n    const nodes = document.querySelectorAll(query);\n    for (let i = 0; i < nodes.length; i++) {\n      let node = nodes.item(i);\n      node.innerHTML = '';\n    }\n  }\n\n  abstract render(query: string, component, isReplaced?: boolean): JSXService;\n  abstract create(name: string, props?: {}, children?: JSX.Element | JSX.Element[]);\n\n}\n","import observable from 'riot-observable';\n\n/**\n * Simple client-side router\n * @module riot-route\n */\n\nvar RE_ORIGIN = /^.+?\\/\\/+[^/]+/;\nvar EVENT_LISTENER = 'EventListener';\nvar REMOVE_EVENT_LISTENER = 'remove' + EVENT_LISTENER;\nvar ADD_EVENT_LISTENER = 'add' + EVENT_LISTENER;\nvar HAS_ATTRIBUTE = 'hasAttribute';\nvar POPSTATE = 'popstate';\nvar HASHCHANGE = 'hashchange';\nvar TRIGGER = 'trigger';\nvar MAX_EMIT_STACK_LEVEL = 3;\nvar win = typeof window != 'undefined' && window;\nvar doc = typeof document != 'undefined' && document;\nvar hist = win && history;\nvar loc = win && (hist.location || win.location);\nvar prot = Router.prototype;\nvar clickEvent = doc && doc.ontouchstart ? 'touchstart' : 'click';\nvar central = observable();\n\nvar started = false;\nvar routeFound = false;\nvar debouncedEmit;\nvar base;\nvar current;\nvar parser;\nvar secondParser;\nvar emitStack = [];\nvar emitStackLevel = 0;\n\n/**\n * Default parser. You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_PARSER(path) {\n  return path.split(/[/?#]/)\n}\n\n/**\n * Default parser (second). You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @param {string} filter - filter string (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_SECOND_PARSER(path, filter) {\n  var f = filter\n    .replace(/\\?/g, '\\\\?')\n    .replace(/\\*/g, '([^/?#]+?)')\n    .replace(/\\.\\./, '.*');\n  var re = new RegExp((\"^\" + f + \"$\"));\n  var args = path.match(re);\n\n  if (args) { return args.slice(1) }\n}\n\n/**\n * Simple/cheap debounce implementation\n * @param   {function} fn - callback\n * @param   {number} delay - delay in seconds\n * @returns {function} debounced function\n */\nfunction debounce(fn, delay) {\n  var t;\n  return function () {\n    clearTimeout(t);\n    t = setTimeout(fn, delay);\n  }\n}\n\n/**\n * Set the window listeners to trigger the routes\n * @param {boolean} autoExec - see route.start\n */\nfunction start(autoExec) {\n  debouncedEmit = debounce(emit, 1);\n  win[ADD_EVENT_LISTENER](POPSTATE, debouncedEmit);\n  win[ADD_EVENT_LISTENER](HASHCHANGE, debouncedEmit);\n  doc[ADD_EVENT_LISTENER](clickEvent, click);\n  if (autoExec) { emit(true); }\n}\n\n/**\n * Router class\n */\nfunction Router() {\n  this.$ = [];\n  observable(this); // make it observable\n  central.on('stop', this.s.bind(this));\n  central.on('emit', this.e.bind(this));\n}\n\nfunction normalize(path) {\n  return path.replace(/^\\/|\\/$/, '')\n}\n\nfunction isString(str) {\n  return typeof str == 'string'\n}\n\n/**\n * Get the part after domain name\n * @param {string} href - fullpath\n * @returns {string} path from root\n */\nfunction getPathFromRoot(href) {\n  return (href || loc.href).replace(RE_ORIGIN, '')\n}\n\n/**\n * Get the part after base\n * @param {string} href - fullpath\n * @returns {string} path from base\n */\nfunction getPathFromBase(href) {\n  return base[0] === '#'\n    ? (href || loc.href || '').split(base)[1] || ''\n    : (loc ? getPathFromRoot(href) : href || '').replace(base, '')\n}\n\nfunction emit(force) {\n  // the stack is needed for redirections\n  var isRoot = emitStackLevel === 0;\n  if (MAX_EMIT_STACK_LEVEL <= emitStackLevel) { return }\n\n  emitStackLevel++;\n  emitStack.push(function() {\n    var path = getPathFromBase();\n    if (force || path !== current) {\n      central[TRIGGER]('emit', path);\n      current = path;\n    }\n  });\n  if (isRoot) {\n    var first;\n    while (first = emitStack.shift()) { first(); } // stack increses within this call\n    emitStackLevel = 0;\n  }\n}\n\nfunction click(e) {\n  if (\n    e.which !== 1 // not left click\n    || e.metaKey || e.ctrlKey || e.shiftKey // or meta keys\n    || e.defaultPrevented // or default prevented\n  ) { return }\n\n  var el = e.target;\n  while (el && el.nodeName !== 'A') { el = el.parentNode; }\n\n  if (\n    !el || el.nodeName !== 'A' // not A tag\n    || el[HAS_ATTRIBUTE]('download') // has download attr\n    || !el[HAS_ATTRIBUTE]('href') // has no href attr\n    || el.target && el.target !== '_self' // another window or frame\n    || el.href.indexOf(loc.href.match(RE_ORIGIN)[0]) === -1 // cross origin\n  ) { return }\n\n  if (el.href !== loc.href\n    && (\n      el.href.split('#')[0] === loc.href.split('#')[0] // internal jump\n      || base[0] !== '#' && getPathFromRoot(el.href).indexOf(base) !== 0 // outside of base\n      || base[0] === '#' && el.href.split(base)[0] !== loc.href.split(base)[0] // outside of #base\n      || !go(getPathFromBase(el.href), el.title || doc.title) // route not found\n    )) { return }\n\n  e.preventDefault();\n}\n\n/**\n * Go to the path\n * @param {string} path - destination path\n * @param {string} title - page title\n * @param {boolean} shouldReplace - use replaceState or pushState\n * @returns {boolean} - route not found flag\n */\nfunction go(path, title, shouldReplace) {\n  // Server-side usage: directly execute handlers for the path\n  if (!hist) { return central[TRIGGER]('emit', getPathFromBase(path)) }\n\n  path = base + normalize(path);\n  title = title || doc.title;\n  // browsers ignores the second parameter `title`\n  shouldReplace\n    ? hist.replaceState(null, title, path)\n    : hist.pushState(null, title, path);\n  // so we need to set it manually\n  doc.title = title;\n  routeFound = false;\n  emit();\n  return routeFound\n}\n\n/**\n * Go to path or set action\n * a single string:                go there\n * two strings:                    go there with setting a title\n * two strings and boolean:        replace history with setting a title\n * a single function:              set an action on the default route\n * a string/RegExp and a function: set an action on the route\n * @param {(string|function)} first - path / action / filter\n * @param {(string|RegExp|function)} second - title / action\n * @param {boolean} third - replace flag\n */\nprot.m = function(first, second, third) {\n  if (isString(first) && (!second || isString(second))) { go(first, second, third || false); }\n  else if (second) { this.r(first, second); }\n  else { this.r('@', first); }\n};\n\n/**\n * Stop routing\n */\nprot.s = function() {\n  this.off('*');\n  this.$ = [];\n};\n\n/**\n * Emit\n * @param {string} path - path\n */\nprot.e = function(path) {\n  this.$.concat('@').some(function(filter) {\n    var args = (filter === '@' ? parser : secondParser)(normalize(path), normalize(filter));\n    if (typeof args != 'undefined') {\n      this[TRIGGER].apply(null, [filter].concat(args));\n      return routeFound = true // exit from loop\n    }\n  }, this);\n};\n\n/**\n * Register route\n * @param {string} filter - filter for matching to url\n * @param {function} action - action to register\n */\nprot.r = function(filter, action) {\n  if (filter !== '@') {\n    filter = '/' + normalize(filter);\n    this.$.push(filter);\n  }\n  this.on(filter, action);\n};\n\nvar mainRouter = new Router();\nvar route = mainRouter.m.bind(mainRouter);\n\n/**\n * Create a sub router\n * @returns {function} the method of a new Router object\n */\nroute.create = function() {\n  var newSubRouter = new Router();\n  // assign sub-router's main method\n  var router = newSubRouter.m.bind(newSubRouter);\n  // stop only this sub-router\n  router.stop = newSubRouter.s.bind(newSubRouter);\n  return router\n};\n\n/**\n * Set the base of url\n * @param {(str|RegExp)} arg - a new base or '#' or '#!'\n */\nroute.base = function(arg) {\n  base = arg || '#';\n  current = getPathFromBase(); // recalculate current path\n};\n\n/** Exec routing right now **/\nroute.exec = function() {\n  emit(true);\n};\n\n/**\n * Replace the default router to yours\n * @param {function} fn - your parser function\n * @param {function} fn2 - your secondParser function\n */\nroute.parser = function(fn, fn2) {\n  if (!fn && !fn2) {\n    // reset parser for testing...\n    parser = DEFAULT_PARSER;\n    secondParser = DEFAULT_SECOND_PARSER;\n  }\n  if (fn) { parser = fn; }\n  if (fn2) { secondParser = fn2; }\n};\n\n/**\n * Helper function to get url query as an object\n * @returns {object} parsed query\n */\nroute.query = function() {\n  var q = {};\n  var href = loc.href || current;\n  href.replace(/[?&](.+?)=([^&]*)/g, function(_, k, v) { q[k] = v; });\n  return q\n};\n\n/** Stop routing **/\nroute.stop = function () {\n  if (started) {\n    if (win) {\n      win[REMOVE_EVENT_LISTENER](POPSTATE, debouncedEmit);\n      win[REMOVE_EVENT_LISTENER](HASHCHANGE, debouncedEmit);\n      doc[REMOVE_EVENT_LISTENER](clickEvent, click);\n    }\n    central[TRIGGER]('stop');\n    started = false;\n  }\n};\n\n/**\n * Start routing\n * @param {boolean} autoExec - automatically exec after starting if true\n */\nroute.start = function (autoExec) {\n  if (!started) {\n    if (win) {\n      if (document.readyState === 'interactive' || document.readyState === 'complete') {\n        start(autoExec);\n      }\n      else {\n        document.onreadystatechange = function () {\n          if (document.readyState === 'interactive') {\n            // the timeout is needed to solve\n            // a weird safari bug https://github.com/riot/route/issues/33\n            setTimeout(function() { start(autoExec); }, 1);\n          }\n        };\n      }\n    }\n    started = true;\n  }\n};\n\n/** Prepare the router **/\nroute.base();\nroute.parser();\n\nexport default route;\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","import * as Preact from 'preact';\r\nimport { ligui } from '@core';\r\nimport { preactJsxService } from './service/preact.jsx.service';\r\n\r\nligui.jsx = preactJsxService;\r\n\r\nexport * from '@core';\r\nexport {Preact}\r\n"],"sourceRoot":""}