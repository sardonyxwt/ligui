{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@sardonyxwt/state-store/dist/state-store.min.js","webpack:///./node_modules/@sardonyxwt/utils/synchronized/synchronized.min.js","webpack:///./src/service/store.service.ts","webpack:///./src/service/localization.service.ts","webpack:///./src/service/navigation.service.ts","webpack:///./src/service/resource.service.ts","webpack:///./src/service/config.service.ts","webpack:///./src/service/rest.service.ts","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///./src/service/jsx.service.ts","webpack:///(webpack)/buildin/global.js","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","self","e","t","default","uniqueId","f","Error","u","this","state","isFrozen","actions","listeners","registerAction","dispatch","deepFreeze","Promise","then","getOwnPropertyNames","forEach","oldScope","newScope","actionName","props","subscribe","unsubscribe","freeze","getState","createScope","getScope","ROOT_SCOPE","3","length","push","charAt","Math","floor","random","generateSeed","join","4","action","cache","has","remove","createSyncCache","syncPromises","all","map","resolve","state_store_1","StoreServiceImpl","initState","scopeName","storeService","SynchronizedUtil","LOCALIZATION_SCOPE_NAME","LOCALIZATION_SCOPE_ACTION_ADD","LOCALIZATION_SCOPE_ACTION_CHANGE","LocalizationServiceImpl","subscribers","changeLocale","locale","scope","getLocales","locales","slice","getDefaultLocale","defaultLocale","getCurrentLocale","currentLocale","id","callback","localizationCache","localizationId","localization","localizations","key","isFirstCall","configure","config","_this","assign","_a","find","split","loader","localizationService","NavigationServiceImpl","navigate","routeName","params","goBack","getParam","getLocation","navigationService","RESOURCES_SCOPE_NAME","RESOURCES_SCOPE_ACTION_ADD","ResourceServiceImpl","set","path","resource","isCache","resources","resourceCache","promise","resourceService","CONFIG_SCOPE_NAME","CONFIG_SCOPE_ACTION_LOAD","ConfigServiceImpl","configCache","configs","configService","RestServiceImpl","_defaultProps","credentials","headers","Accept","Content-Type","post","endpoint","options","request","method","put","del","includes","body","JSON","stringify","fetch","buildUrl","response","ok","statusText","url","queryParams","k","encodeURIComponent","restService","react","dom","react_dom_1","react_1","JSXServiceImpl","components","register","component","render","query","nodes","document","querySelectorAll","node","item","create","children","createElement","jsxService","g","Function","eval","window","jsx_service_1","rest_service_1","config_service_1","resource_service_1","navigation_service_1","localization_service_1","store_service_1","LiguiImpl","jsx","rest","store","navigation","ligui","global"],"mappings":"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","file":"dist/ligui.preact.lib.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"store\",[],t):\"object\"==typeof exports?exports.store=t():e.store=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=0)}([function(e,t,n){\"use strict\";function r(e,t){if(void 0===e&&(e=c.uniqueId(\"scope\")),void 0===t&&(t=null),e in f)throw new Error(\"Scope name must unique\");var n=new s(e,t);return f[e]=n,n}function o(e){return f[e]}function i(){var e={};return Object.getOwnPropertyNames(f).forEach(function(t){e[t]=f[t].getState()}),e}Object.defineProperty(t,\"__esModule\",{value:!0});var u=n(1),c=n(2),s=function(){function e(e,t){this.name=e,this.state=t,this.isFrozen=!1,this.actions={},this.listeners={}}return e.prototype.registerAction=function(e,t){if(this.isFrozen)throw new Error(\"This scope is frozen you can't add new action.\");if(e in this.actions)throw new Error(\"Action name is duplicate in scope \"+this.name);this.actions[e]=t},e.prototype.dispatch=function(e,t){var n=this,r=this.actions[e];if(!r)throw new Error(\"This action not exists \"+e);t&&\"object\"==typeof t&&u.deepFreeze(t);var o=this.state;return new Promise(function(e,n){r(o,t,e,n)}).then(function(r){return u.deepFreeze(r),Object.getOwnPropertyNames(n.listeners).forEach(function(i){return n.listeners[i]({oldScope:o,newScope:r,actionName:e,props:t})}),n.state=r,r})},e.prototype.subscribe=function(e,t){if(t&&!(t in this.actions))throw new Error(\"Action (\"+t+\") not present in scope.\");var n=c.uniqueId(\"listener\");return this.listeners[n]=function(n){t&&t!==n.actionName||e(n)},n},e.prototype.unsubscribe=function(e){return delete this.listeners[e]},e.prototype.freeze=function(){this.isFrozen=!0},e.prototype.getState=function(){return this.state},e}(),f={};t.createScope=r,t.getScope=o,t.getState=i,t.ROOT_SCOPE=r(\"rootScope\",{})},function(e,t,n){!function(t,n){e.exports=n()}(\"undefined\"!=typeof self&&self,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=3)}({3:function(e,t,n){\"use strict\";function r(e){return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];\"object\"==typeof n&&null!==n&&r(n)}),Object.freeze(e)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.deepFreeze=r}})})},function(e,t,n){!function(t,n){e.exports=n()}(\"undefined\"!=typeof self&&self,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=1)}([,function(e,t,n){\"use strict\";function r(e){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",n=[];n.length<e;)n.push(t.charAt(Math.floor(Math.random()*t.length)));return n}function o(e,t){void 0===e&&(e=\"\"),void 0===t&&(t=!1),i[e]?++i[e]:i[e]=0;var n=e+i[e];return t&&(n=n+\"-\"+r(8).join(\"\")),n}Object.defineProperty(t,\"__esModule\",{value:!0});var i={};t.generateSeed=r,t.uniqueId=o}])})}])});\n//# sourceMappingURL=state-store.min.js.map","!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\"object\"==typeof exports?exports:e)[r]=n[r]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=4)}({4:function(e,t,n){\"use strict\";function r(e){return new i(e)}function o(e){return Promise.all(e.map(function(e){return Promise.resolve(e)}))}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e){this.action=e,this.cache={}}return e.prototype.get=function(e){if(e in this.cache)return this.cache[e];var t=this.action(e);return this.cache[e]=t,t},e.prototype.has=function(e){return e in this.cache},e.prototype.remove=function(e){var t=this,n=this.has(e);return n&&this.get(e).then(function(){return delete t.cache[e]}),n},e}();t.createSyncCache=r,t.syncPromises=o}})});\n//# sourceMappingURL=synchronized.min.js.map","import {createScope, getScope, getState, ROOT_SCOPE, Scope} from \"@sardonyxwt/state-store\";\n\nexport interface StoreService {\n  createScope<T>(name?: string, initState?: T): Scope<T>;\n  getScope(scopeName: any): Scope<any>;\n  getState(): {};\n  ROOT_SCOPE: Scope<{}>;\n}\n\nclass StoreServiceImpl implements StoreService {\n  ROOT_SCOPE = ROOT_SCOPE;\n\n  createScope<T>(name?: string, initState?: T): Scope<T> {\n    return createScope(name, initState);\n  }\n\n  getScope(scopeName: any): Scope<any> {\n    return getScope(scopeName);\n  }\n\n  getState(): {} {\n    return getState();\n  }\n\n}\n\nexport const storeService: StoreService = new StoreServiceImpl();\n","import * as SynchronizedUtil from '@sardonyxwt/utils/synchronized';\nimport {createScope, Scope} from '@sardonyxwt/state-store';\n\nexport type Translator = (key: string) => string;\n\nexport interface Localization {\n  [key: string]: string\n}\n\nexport interface LocalizationServiceState {\n  locales: string[];\n  defaultLocale: string;\n  currentLocale: string;\n  localizations: { [key: string]: Localization }\n}\n\nexport interface LocalizationServiceConfig {\n  loader: (locale: string, id: string) => Promise<Localization>;\n  initState: LocalizationServiceState;\n}\n\nexport interface LocalizationService {\n  changeLocale(locale: string): Promise<LocalizationServiceState>;\n\n  getScope(): Scope<LocalizationServiceState>;\n\n  getLocales(): string[];\n\n  getDefaultLocale(): string;\n\n  getCurrentLocale(): string;\n\n  subscribe(id: string, subscriber: (t: Translator) => void): void;\n\n  configure(config: LocalizationServiceConfig): void;\n}\n\ninterface Subscriber {\n  id: string;\n  callback: (t: Translator) => void;\n}\n\nexport const LOCALIZATION_SCOPE_NAME = 'LOCALIZATION_SCOPE';\nexport const LOCALIZATION_SCOPE_ACTION_ADD = 'ADD_LOCALIZATION';\nexport const LOCALIZATION_SCOPE_ACTION_CHANGE = 'CHANGE_LOCALIZATION';\n\nclass LocalizationServiceImpl implements LocalizationService {\n\n  private scope: Scope<LocalizationServiceState>;\n  private localizationCache: SynchronizedUtil.SynchronizedCache<Localization>;\n  private subscribers: Subscriber[] = [];\n\n  changeLocale(locale: string): Promise<LocalizationServiceState> {\n    return this.scope.dispatch(LOCALIZATION_SCOPE_ACTION_CHANGE, locale);\n  }\n\n  getScope() {\n    return this.scope;\n  }\n\n  getLocales(): string[] {\n    return this.scope.getState().locales.slice();\n  }\n\n  getDefaultLocale(): string {\n    return this.scope.getState().defaultLocale;\n  }\n\n  getCurrentLocale(): string {\n    return this.scope.getState().currentLocale;\n  }\n\n  subscribe(id: string, callback: (t: Translator) => void) {\n\n    const {scope, localizationCache} = this;\n\n    this.subscribers.push({id, callback});\n\n    let localizationId = `${scope.getState().currentLocale}:${id}`;\n    let localization = scope.getState().localizations[localizationId];\n    if (localization) {\n      callback((key: string) => localization[key]);\n      return;\n    }\n    callback(id => id);\n\n    const isFirstCall = !localizationCache.has(localizationId);\n    this.localizationCache.get(localizationId).then(localization => {\n      if (isFirstCall) {\n        scope.dispatch(\n          LOCALIZATION_SCOPE_ACTION_ADD,\n          {id, localization}\n        ).then(\n          () => localizationCache.remove(localizationId)\n        );\n      }\n      callback((key: string) => localization[key]);\n    });\n\n  }\n\n  configure(config: LocalizationServiceConfig) {\n    if (this.scope) {\n      throw new Error('ResourceService must configure only once.');\n    }\n    this.scope = createScope<LocalizationServiceState>(\n      LOCALIZATION_SCOPE_NAME,\n      config.initState\n    );\n    this.scope.registerAction(\n      LOCALIZATION_SCOPE_ACTION_ADD,\n      (scope, props, resolve) => {\n        const localizations = Object.assign(\n          scope.localizations,\n          {[props.id]: props.localization}\n        );\n        resolve(Object.assign(scope, {localizations}));\n      }\n    );\n    this.scope.registerAction(\n      LOCALIZATION_SCOPE_ACTION_CHANGE,\n      (scope, currentLocale, resolve) => {\n        const isSupportLocale = scope.locales.find(\n          locale => locale === currentLocale\n        );\n        if (!isSupportLocale) {\n          throw new Error('Locale not supported.');\n        }\n        const subscribers = this.subscribers.slice();\n        this.subscribers = [];\n        subscribers.forEach(({id, callback}) => this.subscribe(id, callback));\n        resolve(Object.assign(scope, {currentLocale}));\n      }\n    );\n    this.scope.freeze();\n    this.localizationCache = SynchronizedUtil.createSyncCache<Localization>((key: string) => {\n      const [locale, id] = key.split(':');\n      return config.loader(locale, id);\n    });\n  }\n\n}\n\nexport const localizationService: LocalizationService = new LocalizationServiceImpl();\n","import { createScope, Scope } from '@sardonyxwt/state-store';\n\nexport interface NavigationServiceScope {\n\n}\n\nexport interface NavigationServiceConfig {\n\n}\n\nexport interface NavigationService {\n  navigate(routeName: string, params);\n  goBack(routeName?: string);\n  getScope(): Scope<NavigationServiceScope>;\n  getParam();\n  getLocation(): string;\n  configure(config: NavigationServiceConfig): void;\n}\n\nclass NavigationServiceImpl implements NavigationService {\n\n  navigate(routeName: string, params) {\n  }\n\n  goBack(routeName?: string) {\n  }\n\n  getScope(): Scope<NavigationServiceScope> {\n    return undefined;\n  }\n\n  getParam() {\n  }\n\n  getLocation(): string {\n    return undefined;\n  }\n\n  configure(config: NavigationServiceConfig): void {\n  }\n\n}\n\nexport const navigationService: NavigationService = new NavigationServiceImpl();\n\n","import * as SynchronizedUtil from '@sardonyxwt/utils/synchronized';\nimport { createScope, Scope } from '@sardonyxwt/state-store';\n\nexport interface ResourceServiceState { resources: { [key: string]: any } }\nexport interface ResourceServiceConfig {\n  loader: (path: string) => Promise<any>,\n  initState?: ResourceServiceState\n}\nexport interface ResourceService {\n  set(path: string, resource: any): Promise<ResourceServiceState>;\n  get(path: string, isSave?: boolean): Promise<any>;\n  getScope(): Scope<ResourceServiceState>;\n  configure(config: ResourceServiceConfig): void;\n}\n\nexport const RESOURCES_SCOPE_NAME = 'RESOURCES_SCOPE';\nexport const RESOURCES_SCOPE_ACTION_ADD = 'ADD_RESOURCE';\n\nclass ResourceServiceImpl implements ResourceService {\n\n  private scope: Scope<ResourceServiceState>;\n  private resourceCache: SynchronizedUtil.SynchronizedCache<any>;\n\n  set(path: string, resource) {\n    return this.scope.dispatch(RESOURCES_SCOPE_ACTION_ADD, {\n      path, resource\n    })\n  }\n\n  get(path: string, isCache?: boolean): Promise<any> {\n    const resource = this.scope.getState().resources[path];\n    if (resource) {\n      return new Promise<any>(resolve => resolve(resource));\n    }\n    if (this.resourceCache.has(path)) {\n      return this.resourceCache.get(path);\n    } else {\n      const promise = this.resourceCache.get(path);\n      promise.then(resource => {\n        this.resourceCache.remove(path);\n        if (isCache) {\n          this.scope.dispatch(RESOURCES_SCOPE_ACTION_ADD, {\n            path, resource\n          })\n        }\n      });\n      return promise\n    }\n  }\n\n  getScope() {\n    return this.scope;\n  }\n\n  configure(config: ResourceServiceConfig) {\n    if (this.scope) {\n      throw new Error('ResourceService must configure only once.');\n    }\n    this.scope = createScope<ResourceServiceState>(\n      RESOURCES_SCOPE_NAME,\n      config.initState || {resources: {}}\n    );\n    this.scope.registerAction(\n      RESOURCES_SCOPE_ACTION_ADD,\n      (scope, props, resolve) => {\n        resolve(Object.assign(scope, {[props.path]: props.resource}))\n      });\n    this.scope.freeze();\n    this.resourceCache = SynchronizedUtil.createSyncCache<any>(config.loader);\n  }\n\n}\n\nexport const resourceService: ResourceService = new ResourceServiceImpl();\n","import * as SynchronizedUtil from '@sardonyxwt/utils/synchronized';\nimport { createScope, Scope } from '@sardonyxwt/state-store';\n\nexport interface ConfigServiceState {\n  configs: { [key: string]: any }\n}\n\nexport interface ConfigServiceConfig {\n  loader: (name: string) => Promise<any>;\n  initState?: ConfigServiceState;\n}\n\nexport interface ConfigService {\n  set(name: string, config): Promise<ConfigServiceState>;\n  get<T = any>(name: string): Promise<T>;\n  getScope(): Scope<ConfigServiceState>;\n  configure(config: ConfigServiceConfig);\n}\n\nexport const CONFIG_SCOPE_NAME = 'CONFIG_SCOPE';\nexport const CONFIG_SCOPE_ACTION_LOAD = 'LOAD_CONFIG';\n\nclass ConfigServiceImpl implements ConfigService {\n\n  private scope: Scope<ConfigServiceState>;\n  private configCache: SynchronizedUtil.SynchronizedCache<any>;\n\n  set(name: string, config) {\n    return this.scope.dispatch(\n      CONFIG_SCOPE_ACTION_LOAD, {name, config}\n    );\n  }\n\n  get<T = any>(name: string): Promise<T> {\n    let config = this.scope.getState()[name];\n    if (config) {\n      return Promise.resolve(config);\n    }\n    if (this.configCache.has(name)) {\n      return this.configCache.get(name);\n    }\n    return this.configCache.get(name).then(config => {\n      this.configCache.remove(name);\n      return this.scope.dispatch(\n        CONFIG_SCOPE_ACTION_LOAD,\n        {name, config}\n      ).then(scope => scope[name]);\n    });\n  }\n\n  getScope() {\n    return this.scope;\n  }\n\n  configure(config: ConfigServiceConfig) {\n    if (this.scope) {\n      throw new Error('ConfigService must configure only once.');\n    }\n    this.scope = createScope<ConfigServiceState>(\n      CONFIG_SCOPE_NAME,\n      config.initState || {configs: {}}\n    );\n    this.scope.registerAction(\n      CONFIG_SCOPE_ACTION_LOAD,\n      (scope, props, resolve) => resolve(\n        Object.assign(scope, {[props.name]: props.config})\n      )\n    );\n    this.scope.freeze();\n\n    this.configCache = SynchronizedUtil.createSyncCache<any>(config.loader);\n  }\n\n}\n\nexport const configService: ConfigService = new ConfigServiceImpl();\n","export interface RequestProps extends RequestInit {\n  queryParams?: { [key: string]: string }\n}\n\nexport interface RestService {\n  defaultProps: RequestInit;\n  post(endpoint: string, options?: RequestProps): Promise<Response>;\n  put(endpoint: string, options?: RequestProps): Promise<Response>;\n  get(endpoint: string, options?: RequestProps): Promise<Response>;\n  del(endpoint: string, options?: RequestProps): Promise<Response>;\n  request(endpoint: string, options?: RequestProps): Promise<Response>;\n  buildUrl(endpoint: string, options?: RequestProps): string;\n}\n\nclass RestServiceImpl implements RestService {\n\n  private _defaultProps: RequestInit = {\n    credentials: 'same-origin',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    }\n  };\n\n  get defaultProps() {\n    return this._defaultProps;\n  }\n\n  set defaultProps(props: RequestInit) {\n    if (typeof props !== 'object') {\n      throw new Error('Props must not null');\n    }\n    this._defaultProps = props;\n  }\n\n  post(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign(this._defaultProps, options, {\n      method: 'POST'\n    }));\n  }\n\n  put(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign(this._defaultProps, options, {\n      method: 'PUT'\n    }));\n  }\n\n  get(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign(this._defaultProps, options, {\n      method: 'GET'\n    }));\n  }\n\n  del(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign(this._defaultProps, options, {\n      method: 'DELETE'\n    }));\n  }\n\n  request(endpoint: string, options: RequestProps = {}) {\n    if (options.headers && options.headers['Content-Type'].includes('application/json')) {\n      options.body = JSON.stringify(options.body);\n    }\n    return fetch(this.buildUrl(endpoint, options), options).then(response => {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      return response;\n    })\n  }\n\n  buildUrl(endpoint: string, options: RequestProps = {}) {\n    let url = endpoint;\n    const queryParams = options.queryParams;\n    if (queryParams) {\n      url += '?';\n      url += Object.getOwnPropertyNames(queryParams)\n        .map(k => encodeURIComponent(k) + '=' + encodeURIComponent(queryParams[k]))\n        .join('&');\n    }\n    return url;\n  }\n\n}\n\nexport const restService: RestService = new RestServiceImpl();\n","module.exports = react;","module.exports = react-dom;","import {render} from 'react-dom';\nimport {createElement} from 'react';\n\nexport interface JSXService {\n  register(name: string, component): JSXService;\n\n  render(query: string, component): JSXService;\n\n  create(name: string, props?, children?: JSX.Element | JSX.Element[]);\n}\n\nclass JSXServiceImpl implements JSXService {\n\n  protected components = {};\n\n  register(name: string, component) {\n    if (name in this.components) {\n      throw new Error(`Component with same name is register.`);\n    }\n    this.components[name] = component;\n    return this;\n  }\n\n  render(query: string, component) {\n    const nodes = document.querySelectorAll(query);\n    for (let i = 0; i < nodes.length; i++) {\n      let node = nodes.item(i);\n      render(component, node)\n    }\n    return this;\n  }\n\n  create(name: string, props = {}, children: JSX.Element | JSX.Element[] = []) {\n    return createElement(this.components[name] || name, props, children);\n  }\n\n}\n\nexport const jsxService: JSXService = new JSXServiceImpl();\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","import {jsxService, JSXService} from './service/jsx.service';\nimport {restService, RestService} from './service/rest.service';\nimport {configService, ConfigService} from './service/config.service';\nimport {resourceService, ResourceService} from './service/resource.service';\nimport {navigationService, NavigationService} from \"./service/navigation.service\";\nimport {localizationService, LocalizationService} from './service/localization.service';\nimport {storeService, StoreService} from \"./service/store.service\";\n\nexport interface Ligui {\n  jsx: JSXService;\n  rest: RestService;\n  store: StoreService;\n  config: ConfigService;\n  resource: ResourceService;\n  navigation: NavigationService;\n  localization: LocalizationService;\n}\n\nclass LiguiImpl implements Ligui {\n  jsx = jsxService;\n  rest = restService;\n  store = storeService;\n  config = configService;\n  resource = resourceService;\n  navigation = navigationService;\n  localization = localizationService;\n}\n\nexport const ligui: Ligui = global['ligui'] = new LiguiImpl();\n"],"sourceRoot":""}