{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/@sardonyxwt/state-store/dist/state-store.min.js","webpack:///./node_modules/@sardonyxwt/utils/synchronized/synchronized.min.js","webpack:///./node_modules/@sardonyxwt/utils/json/json.min.js","webpack:///./src/service/localization.service.ts","webpack:///./src/service/navigation.service.ts","webpack:///./src/service/resource.service.ts","webpack:///./src/service/config.service.ts","webpack:///./src/service/store.service.ts","webpack:///./src/service/rest.service.ts","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///./src/service/jsx.service.ts","webpack:///(webpack)/buildin/global.js","webpack:///./src/index.ts"],"names":["root","factory","exports","module","require","define","amd","a","i","window","__WEBPACK_EXTERNAL_MODULE__9__","__WEBPACK_EXTERNAL_MODULE__10__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","self","e","configurable","default","uniqueId","Error","this","__extends","setPrototypeOf","__proto__","Array","constructor","__assign","assign","arguments","length","f","state","isFrozen","actionQueue","actions","listeners","registerAction","dispatch","deepFreeze","Promise","u","getState","push","then","getOwnPropertyNames","forEach","oldState","newState","actionName","props","shift","subscribe","synchronize","unsubscribe","lock","isLocked","getSupportActions","h","scopes","concat","filter","indexOf","findIndex","map","syncPromises","catch","createScope","composeScope","getScope","ROOT_SCOPE","3","freeze","charAt","Math","floor","random","generateSeed","join","4","action","cache","has","remove","createSyncCache","all","resolve","2","flatten","isArray","unflatten","split","isNaN","parseInt","SynchronizedUtil","JSONUtil","state_store_1","LOCALIZATION_SCOPE_NAME","LOCALIZATION_SCOPE_ACTION_ADD","LOCALIZATION_SCOPE_ACTION_CHANGE","LocalizationServiceImpl","subscribers","changeLocale","locale","scope","getLocales","locales","slice","getDefaultLocale","defaultLocale","getCurrentLocale","currentLocale","id","callback","_this","localizationCache","createLocalizationPromise","localizationId","localization","localizations","isFirstCall","resultLocalization_1","localizationPromises","configure","config","initState","_a","_b","find","loader","localizationService","NAVIGATION_SCOPE_NAME","NAVIGATION_SCOPE_ACTION_CHANGE","NavigationServiceImpl","navigate","routeName","params","stepBackCount","goBack","getParams","getCurrentNavigationState","getLocation","stack","newStack","navigationService","RESOURCES_SCOPE_NAME","RESOURCES_SCOPE_ACTION_ADD","ResourceServiceImpl","set","path","resource","isCache","resources","resourceCache","resourceService","CONFIG_SCOPE_NAME","CONFIG_SCOPE_ACTION_LOAD","ConfigServiceImpl","configCache","configs","configService","StoreServiceImpl","scopeName","storeService","RestServiceImpl","_defaultProps","credentials","headers","Accept","Content-Type","pragma","cache-control","post","endpoint","options","request","method","put","del","includes","body","JSON","stringify","fetch","buildUrl","response","status","reject","url","queryParams","pathParams","replace","RegExp","queryUrl","k","encodeURIComponent","restService","ReactDOM","React","JSXServiceImpl","components","register","component","render","query","nodes","document","querySelectorAll","node","item","children","createElement","innerHTML","jsxService","g","Function","eval","jsx_service_1","rest_service_1","store_service_1","config_service_1","resource_service_1","navigation_service_1","localization_service_1","LiguiImpl","jsx","rest","store","navigation","api","ligui","global"],"mappings":"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","file":"dist/ligui.lib.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"react-dom\")) : factory(root[\"react\"], root[\"react-dom\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__9__, __WEBPACK_EXTERNAL_MODULE__10__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(\"store\",[],e):\"object\"==typeof exports?exports.store=e():t.store=e()}(\"undefined\"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){\"use strict\";function r(t,e){if(void 0===t&&(t=a.uniqueId(\"scope\")),void 0===e&&(e=null),t in d)throw new Error(\"Scope name must unique\");var n=new l(t,e);return d[t]=n,n}function o(t,e){if(t in e)throw new Error(\"Scope name must unique\");var n=e.map(function(t){return\"string\"==typeof t?i(t):t}).filter(function(t,e,n){return t&&n.indexOf(t)===e});if(n.length<2)throw new Error(\"Compose scopes length must be greater than one\");var r=new h(t,n);return e[t]=r,r}function i(t){if(!d[t])throw new Error(\"Scope with name \"+t+\" not present\");return d[t]}function u(){var t={};return Object.getOwnPropertyNames(d).forEach(function(e){t[e]=d[e].getState()}),t}var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,\"__esModule\",{value:!0});var f=n(1),a=n(2),p=n(3),l=function(){function t(t,e){this.name=t,this.state=e,this.isFrozen=!1,this.actionQueue=[],this.actions={},this.listeners={}}return t.prototype.registerAction=function(t,e){if(this.isFrozen)throw new Error(\"This scope is locked you can't add new action.\");if(t in this.actions)throw new Error(\"Action name is duplicate in scope \"+this.name);this.actions[t]=e},t.prototype.dispatch=function(t,e){var n=this,r=this.actions[t];if(!r)throw new Error(\"This action not exists \"+t);e&&\"object\"==typeof e&&f.deepFreeze(e);var o;return new Promise(function(t,i){var u=0===n.actionQueue.length,c=function(){o=n.getState(),r(o,e,t,i)};n.actionQueue.push(c),u&&c()}).then(function(r){return f.deepFreeze(r),Object.getOwnPropertyNames(n.listeners).forEach(function(i){return n.listeners[i]({oldState:o,newState:r,actionName:t,props:e})}),n.state=r,r}).then(function(t){if(n.actionQueue.shift(),n.actionQueue.length>0){(0,n.actionQueue[0])()}return t})},t.prototype.subscribe=function(t,e){if(e&&!(e in this.actions))throw new Error(\"Action (\"+e+\") not present in scope.\");var n=a.uniqueId(\"listener\");return this.listeners[n]=function(n){e&&e!==n.actionName||t(n)},n},t.prototype.synchronize=function(t,e,n){return t[e]=this.getState(),this.subscribe(function(n){var r=n.newState;t[e]=r},n)},t.prototype.unsubscribe=function(t){return delete this.listeners[t]},t.prototype.lock=function(){this.isFrozen=!0},t.prototype.isLocked=function(){return this.isFrozen},t.prototype.getState=function(){return this.state},t.prototype.getSupportActions=function(){return Object.getOwnPropertyNames(this.actions)},t}(),h=function(t){function e(e,n){var r=t.call(this,e,{})||this;r.name=e,r.scopes=n;var o=[];return n.forEach(function(t){o=o.concat(t.getSupportActions()),t.lock(),t.subscribe(function(e){var n=e.actionName,o=e.props,i=e.oldState,u=r.getState();Object.getOwnPropertyNames(r.listeners).forEach(function(e){return r.listeners[e]({oldState:s({},u,(c={},c[t.name]=i,c)),newState:u,actionName:n,props:o});var c})})}),o=o.filter(function(t,e,n){return n.indexOf(t)===e}),o.forEach(function(t){return r.registerAction(t,function(e,o,i,u){var c=n.filter(function(e){return e.getSupportActions().findIndex(function(e){return e===t})>=0}).map(function(e){return e.dispatch(t,o)});p.syncPromises(c).then(function(){return i(r.getState())}).catch(u)})}),r.lock(),r}return c(e,t),e.prototype.getState=function(){var t={};return this.scopes.forEach(function(e){return t[e.name]=e.getState()}),t},e}(l),d={};e.createScope=r,e.composeScope=o,e.getScope=i,e.getState=u,e.ROOT_SCOPE=r(\"rootScope\",{})},function(t,e,n){!function(e,n){t.exports=n()}(\"undefined\"!=typeof self&&self,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=3)}({3:function(t,e,n){\"use strict\";function r(t){return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];\"object\"==typeof n&&null!==n&&r(n)}),Object.freeze(t)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.deepFreeze=r}})})},function(t,e,n){!function(e,n){t.exports=n()}(\"undefined\"!=typeof self&&self,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=1)}([,function(t,e,n){\"use strict\";function r(t){for(var e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",n=[];n.length<t;)n.push(e.charAt(Math.floor(Math.random()*e.length)));return n}function o(t,e){void 0===t&&(t=\"\"),void 0===e&&(e=!1),i[t]?++i[t]:i[t]=1;var n=t+i[t];return e&&(n=n+\"-\"+r(8).join(\"\")),n}Object.defineProperty(e,\"__esModule\",{value:!0});var i={};e.generateSeed=r,e.uniqueId=o}])})},function(t,e,n){!function(e,n){t.exports=n()}(\"undefined\"!=typeof self&&self,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=4)}({4:function(t,e,n){\"use strict\";function r(t){return new i(t)}function o(t){return Promise.all(t.map(function(t){return Promise.resolve(t)}))}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t){this.action=t,this.cache={}}return t.prototype.get=function(t){if(t in this.cache)return this.cache[t];var e=this.action(t);return this.cache[t]=e,e},t.prototype.has=function(t){return t in this.cache},t.prototype.remove=function(t){var e=this,n=this.has(t);return n&&this.get(t).then(function(){return delete e.cache[t]}),n},t}();e.createSyncCache=r,e.syncPromises=o}})})}])});\n//# sourceMappingURL=state-store.min.js.map","!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)(\"object\"==typeof exports?exports:e)[r]=n[r]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=4)}({4:function(e,t,n){\"use strict\";function r(e){return new i(e)}function o(e){return Promise.all(e.map(function(e){return Promise.resolve(e)}))}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e){this.action=e,this.cache={}}return e.prototype.get=function(e){if(e in this.cache)return this.cache[e];var t=this.action(e);return this.cache[e]=t,t},e.prototype.has=function(e){return e in this.cache},e.prototype.remove=function(e){var t=this,n=this.has(e);return n&&this.get(e).then(function(){return delete t.cache[e]}),n},e}();t.createSyncCache=r,t.syncPromises=o}})});\n//# sourceMappingURL=synchronized.min.js.map","!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)(\"object\"==typeof exports?exports:e)[n]=r[n]}}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=2)}({2:function(e,t,r){\"use strict\";function n(e){function t(e,n){if(Object(e)!==e)r[n]=e;else if(Array.isArray(e))if(0===e.length)r[n]=[];else for(var o=0;o<e.length;o++)t(e[o],n?n+\".\"+o:\"\"+o);else{var f=Object.getOwnPropertyNames(e);0!==f.length?f.forEach(function(r){return t(e[r],n?n+\".\"+r:r)}):r[n]={}}}var r={};return t(e,\"\"),r}function o(e){if(Object(e)!==e||Array.isArray(e))return e;var t,r,n,o,f={};return Object.getOwnPropertyNames(e).forEach(function(u){t=f,r=\"\",n=u.split(\".\");for(var i=0;i<n.length;i++)o=!isNaN(parseInt(n[i],10)),t=t[r]||(t[r]=o?[]:{}),r=n[i];t[r]=e[u]}),f[\"\"]}Object.defineProperty(t,\"__esModule\",{value:!0}),t.flatten=n,t.unflatten=o}})});\n//# sourceMappingURL=json.min.js.map","import * as SynchronizedUtil from '@sardonyxwt/utils/synchronized';\r\nimport * as JSONUtil from '@sardonyxwt/utils/json';\r\nimport { createScope, Scope } from '@sardonyxwt/state-store';\r\n\r\nexport type Translator = (key: string) => string;\r\n\r\nexport interface Localization {\r\n  [key: string]: string\r\n}\r\n\r\nexport interface LocalizationServiceState {\r\n  locales: string[];\r\n  defaultLocale: string;\r\n  currentLocale: string;\r\n  localizations: { [key: string]: Localization }\r\n}\r\n\r\nexport interface LocalizationServiceConfig {\r\n  loader: (locale: string, id: string) => Promise<Localization>;\r\n  initState: LocalizationServiceState;\r\n}\r\n\r\nexport interface LocalizationService {\r\n  changeLocale(locale: string): Promise<LocalizationServiceState>;\r\n\r\n  getScope(): Scope<LocalizationServiceState>;\r\n\r\n  getLocales(): string[];\r\n\r\n  getDefaultLocale(): string;\r\n\r\n  getCurrentLocale(): string;\r\n\r\n  subscribe(id: string | string[], subscriber: (t: Translator) => void): void;\r\n\r\n  configure(config: LocalizationServiceConfig): void;\r\n}\r\n\r\ninterface Subscriber {\r\n  id: string | string[];\r\n  callback: (t: Translator) => void;\r\n}\r\n\r\nexport const LOCALIZATION_SCOPE_NAME = 'LOCALIZATION_SCOPE';\r\nexport const LOCALIZATION_SCOPE_ACTION_ADD = 'ADD_LOCALIZATION';\r\nexport const LOCALIZATION_SCOPE_ACTION_CHANGE = 'CHANGE_LOCALIZATION';\r\n\r\nclass LocalizationServiceImpl implements LocalizationService {\r\n\r\n  private scope: Scope<LocalizationServiceState>;\r\n  private localizationCache: SynchronizedUtil.SynchronizedCache<Localization>;\r\n  private subscribers: Subscriber[] = [];\r\n\r\n  changeLocale(locale: string): Promise<LocalizationServiceState> {\r\n    return this.scope.dispatch(LOCALIZATION_SCOPE_ACTION_CHANGE, locale);\r\n  }\r\n\r\n  getScope() {\r\n    return this.scope;\r\n  }\r\n\r\n  getLocales(): string[] {\r\n    return this.scope.getState().locales.slice();\r\n  }\r\n\r\n  getDefaultLocale(): string {\r\n    return this.scope.getState().defaultLocale;\r\n  }\r\n\r\n  getCurrentLocale(): string {\r\n    return this.scope.getState().currentLocale;\r\n  }\r\n\r\n  subscribe(id: string | string[], callback: (t: Translator) => void) {\r\n\r\n    const {scope, localizationCache} = this;\r\n\r\n    this.subscribers.push({id, callback});\r\n\r\n    let createLocalizationPromise = (id: string) => {\r\n\r\n      let localizationId = `${scope.getState().currentLocale}:${id}`;\r\n      let localization = scope.getState().localizations[localizationId];\r\n\r\n      if (localization) {\r\n        return Promise.resolve(localization);\r\n      }\r\n\r\n      const isFirstCall = !localizationCache.has(localizationId);\r\n      return this.localizationCache.get(localizationId).then(localization => {\r\n        if (isFirstCall) {\r\n          scope.dispatch(\r\n            LOCALIZATION_SCOPE_ACTION_ADD,\r\n            {id, localization}\r\n          ).then(\r\n            () => localizationCache.remove(localizationId)\r\n          );\r\n        }\r\n        return localization;\r\n      });\r\n    };\r\n\r\n    callback(id => id);\r\n\r\n\r\n    if (Array.isArray(id)) {\r\n      let resultLocalization = {};\r\n\r\n      const localizationPromises = id.map(\r\n        id => createLocalizationPromise(id).then(\r\n          localization => resultLocalization[id] = localization\r\n        )\r\n      );\r\n\r\n      SynchronizedUtil.syncPromises(localizationPromises).then(\r\n        () => {\r\n          let localization = JSONUtil.flatten(resultLocalization);\r\n          callback((key: string) => localization[key])\r\n        }\r\n      )\r\n    } else {\r\n      createLocalizationPromise(id).then(\r\n        localization => callback((key: string) => localization[key])\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  configure(config: LocalizationServiceConfig) {\r\n    if (this.scope) {\r\n      throw new Error('ResourceService must configure only once.');\r\n    }\r\n    this.scope = createScope<LocalizationServiceState>(\r\n      LOCALIZATION_SCOPE_NAME,\r\n      config.initState\r\n    );\r\n    this.scope.registerAction(\r\n      LOCALIZATION_SCOPE_ACTION_ADD,\r\n      (scope, {id, localization}, resolve) => {\r\n        const localizations = Object.assign(\r\n          scope.localizations,\r\n          {[id]: localization}\r\n        );\r\n        resolve(Object.assign(scope, {localizations}));\r\n      }\r\n    );\r\n    this.scope.registerAction(\r\n      LOCALIZATION_SCOPE_ACTION_CHANGE,\r\n      (scope, currentLocale, resolve) => {\r\n        const isSupportLocale = scope.locales.find(\r\n          locale => locale === currentLocale\r\n        );\r\n        if (!isSupportLocale) {\r\n          throw new Error('Locale not supported.');\r\n        }\r\n        const subscribers = this.subscribers.slice();\r\n        this.subscribers = [];\r\n        subscribers.forEach(({id, callback}) => this.subscribe(id, callback));\r\n        resolve(Object.assign(scope, {currentLocale}));\r\n      }\r\n    );\r\n    this.scope.lock();\r\n    this.localizationCache = SynchronizedUtil.createSyncCache<Localization>((key: string) => {\r\n      const [locale, id] = key.split(':');\r\n      return config.loader(locale, id);\r\n    });\r\n  }\r\n\r\n}\r\n\r\nexport const localizationService: LocalizationService = new LocalizationServiceImpl();\r\n","import { createScope, Scope } from '@sardonyxwt/state-store';\r\n\r\nexport interface NavigationState {\r\n  routeName: string;\r\n  params: any;\r\n}\r\n\r\nexport interface NavigationServiceState {\r\n  stack: NavigationState[];\r\n}\r\n\r\nexport interface NavigationServiceConfig {\r\n  initState: NavigationServiceState;\r\n}\r\n\r\nexport interface NavigationService {\r\n  navigate(routeName: string, params, stepBack?: number): Promise<NavigationServiceState>;\r\n\r\n  goBack(stepBack?: number): Promise<NavigationServiceState>;\r\n\r\n  getScope(): Scope<NavigationServiceState>;\r\n\r\n  getParams();\r\n\r\n  getLocation(): string;\r\n\r\n  getCurrentNavigationState(): NavigationState;\r\n\r\n  configure(config: NavigationServiceConfig): void;\r\n}\r\n\r\nexport const NAVIGATION_SCOPE_NAME = 'NAVIGATION_SCOPE';\r\nexport const NAVIGATION_SCOPE_ACTION_CHANGE = 'CHANGE_NAVIGATION';\r\n\r\nclass NavigationServiceImpl implements NavigationService {\r\n\r\n  private scope: Scope<NavigationServiceState>;\r\n\r\n  navigate(routeName: string, params, stepBackCount = 0) {\r\n    return this.scope.dispatch(NAVIGATION_SCOPE_ACTION_CHANGE, {\r\n      routeName, params, stepBackCount\r\n    });\r\n  }\r\n\r\n  goBack(stepBackCount = 1) {\r\n    return this.scope.dispatch(NAVIGATION_SCOPE_ACTION_CHANGE, {\r\n      stepBackCount\r\n    });\r\n  }\r\n\r\n  getScope(): Scope<NavigationServiceState> {\r\n    return this.scope;\r\n  }\r\n\r\n  getParams() {\r\n    let state = this.getCurrentNavigationState();\r\n    return state ? state.params : null;\r\n  }\r\n\r\n  getLocation(): string {\r\n    let state = this.getCurrentNavigationState();\r\n    return state ? state.routeName : null;\r\n  }\r\n\r\n  getCurrentNavigationState(): NavigationState {\r\n    let stack = this.scope.getState().stack;\r\n    return stack.length > 0 ? stack[stack.length - 1] : null;\r\n  }\r\n\r\n  configure(config: NavigationServiceConfig): void {\r\n    if (this.scope) {\r\n      throw new Error('NavigationService must configure only once.');\r\n    }\r\n    this.scope = createScope(NAVIGATION_SCOPE_NAME, config.initState);\r\n    this.scope.registerAction(\r\n      NAVIGATION_SCOPE_ACTION_CHANGE,\r\n      (scope, {routeName, params, stepBackCount}, resolve) => {\r\n        if (stepBackCount < 0) {\r\n          throw new Error('Step back count must plural.');\r\n        }\r\n        if (stepBackCount > 0 && scope.stack.length - stepBackCount - 1 < 1) {\r\n          throw new Error('Step back count is bigger than history');\r\n        }\r\n        let newState = routeName ? {routeName, params} : scope.stack[scope.stack.length - stepBackCount - 1];\r\n        let newStack = scope.stack.slice(0, scope.stack.length - stepBackCount - (routeName ? 0 : 1));\r\n        newStack.push(newState);\r\n        resolve({\r\n          stack: newStack\r\n        });\r\n      });\r\n    this.scope.lock();\r\n  }\r\n\r\n}\r\n\r\nexport const navigationService: NavigationService = new NavigationServiceImpl();\r\n\r\n","import * as SynchronizedUtil from '@sardonyxwt/utils/synchronized';\r\nimport { createScope, Scope } from '@sardonyxwt/state-store';\r\n\r\nexport interface ResourceServiceState {\r\n  resources: { [key: string]: any }\r\n}\r\n\r\nexport interface ResourceServiceConfig {\r\n  loader: (path: string) => Promise<any>,\r\n  initState?: ResourceServiceState\r\n}\r\n\r\nexport interface ResourceService {\r\n  set(path: string, resource: any): Promise<ResourceServiceState>;\r\n\r\n  get(path: string, isSave?: boolean): Promise<any>;\r\n\r\n  getScope(): Scope<ResourceServiceState>;\r\n\r\n  configure(config: ResourceServiceConfig): void;\r\n}\r\n\r\nexport const RESOURCES_SCOPE_NAME = 'RESOURCES_SCOPE';\r\nexport const RESOURCES_SCOPE_ACTION_ADD = 'ADD_RESOURCE';\r\n\r\nclass ResourceServiceImpl implements ResourceService {\r\n\r\n  private scope: Scope<ResourceServiceState>;\r\n  private resourceCache: SynchronizedUtil.SynchronizedCache<any>;\r\n\r\n  set(path: string, resource) {\r\n    return this.scope.dispatch(RESOURCES_SCOPE_ACTION_ADD, {\r\n      path, resource\r\n    })\r\n  }\r\n\r\n  get(path: string, isCache?: boolean): Promise<any> {\r\n    const resource = this.scope.getState().resources[path];\r\n    if (resource) {\r\n      return Promise.resolve(resource);\r\n    }\r\n    return this.resourceCache.get(path).then(resource => {\r\n      this.resourceCache.remove(path);\r\n      if (isCache) {\r\n        this.scope.dispatch(RESOURCES_SCOPE_ACTION_ADD, {\r\n          path, resource\r\n        })\r\n      }\r\n      return resource;\r\n    });\r\n  }\r\n\r\n  getScope() {\r\n    return this.scope;\r\n  }\r\n\r\n  configure(config: ResourceServiceConfig) {\r\n    if (this.scope) {\r\n      throw new Error('ResourceService must configure only once.');\r\n    }\r\n    this.scope = createScope<ResourceServiceState>(\r\n      RESOURCES_SCOPE_NAME,\r\n      config.initState || {resources: {}}\r\n    );\r\n    this.scope.registerAction(\r\n      RESOURCES_SCOPE_ACTION_ADD,\r\n      (scope, {path, resource}, resolve) => {\r\n        resolve(Object.assign(scope, {[path]: resource}))\r\n      });\r\n    this.scope.lock();\r\n    this.resourceCache = SynchronizedUtil.createSyncCache<any>(config.loader);\r\n  }\r\n\r\n}\r\n\r\nexport const resourceService: ResourceService = new ResourceServiceImpl();\r\n","import * as SynchronizedUtil from '@sardonyxwt/utils/synchronized';\r\nimport { createScope, Scope } from '@sardonyxwt/state-store';\r\n\r\nexport interface ConfigServiceState {\r\n  configs: { [key: string]: any }\r\n}\r\n\r\nexport interface ConfigServiceConfig {\r\n  loader: (name: string) => Promise<any>;\r\n  initState?: ConfigServiceState;\r\n}\r\n\r\nexport interface ConfigService {\r\n  set(name: string, config): Promise<ConfigServiceState>;\r\n  get<T = any>(name: string): Promise<T>;\r\n  getScope(): Scope<ConfigServiceState>;\r\n  configure(config: ConfigServiceConfig);\r\n}\r\n\r\nexport const CONFIG_SCOPE_NAME = 'CONFIG_SCOPE';\r\nexport const CONFIG_SCOPE_ACTION_LOAD = 'LOAD_CONFIG';\r\n\r\nclass ConfigServiceImpl implements ConfigService {\r\n\r\n  private scope: Scope<ConfigServiceState>;\r\n  private configCache: SynchronizedUtil.SynchronizedCache<any>;\r\n\r\n  set(name: string, config) {\r\n    return this.scope.dispatch(\r\n      CONFIG_SCOPE_ACTION_LOAD, {name, config}\r\n    );\r\n  }\r\n\r\n  get<T = any>(name: string): Promise<T> {\r\n    let config = this.scope.getState()[name];\r\n    if (config) {\r\n      return Promise.resolve(config);\r\n    }\r\n    return this.configCache.get(name).then(config => {\r\n      this.configCache.remove(name);\r\n      this.scope.dispatch(\r\n        CONFIG_SCOPE_ACTION_LOAD,\r\n        {name, config}\r\n      ).then(scope => scope[name]);\r\n      return config;\r\n    });\r\n  }\r\n\r\n  getScope() {\r\n    return this.scope;\r\n  }\r\n\r\n  configure(config: ConfigServiceConfig) {\r\n    if (this.scope) {\r\n      throw new Error('ConfigService must configure only once.');\r\n    }\r\n    this.scope = createScope<ConfigServiceState>(\r\n      CONFIG_SCOPE_NAME,\r\n      config.initState || {configs: {}}\r\n    );\r\n    this.scope.registerAction(\r\n      CONFIG_SCOPE_ACTION_LOAD,\r\n      (scope, {name, config}, resolve) => resolve(\r\n        Object.assign(scope, {[name]: config})\r\n      )\r\n    );\r\n    this.scope.lock();\r\n\r\n    this.configCache = SynchronizedUtil.createSyncCache<any>(config.loader);\r\n  }\r\n\r\n}\r\n\r\nexport const configService: ConfigService = new ConfigServiceImpl();\r\n","import { createScope, composeScope, getScope, getState, ROOT_SCOPE, Scope } from '@sardonyxwt/state-store';\r\n\r\nexport interface StoreService {\r\n  createScope<T>(name?: string, initState?: T): Scope<T>;\r\n  composeScope(name: string, scopes: (Scope | string)[]): Scope;\r\n  getScope(scopeName: string): Scope;\r\n  getState(): {};\r\n  ROOT_SCOPE: Scope<{}>;\r\n}\r\n\r\nclass StoreServiceImpl implements StoreService {\r\n\r\n  ROOT_SCOPE = ROOT_SCOPE;\r\n\r\n  createScope<T>(name?: string, initState?: T) {\r\n    return createScope(name, initState);\r\n  }\r\n\r\n  composeScope(name: string, scopes: (Scope | string)[]) {\r\n    return composeScope(name, scopes);\r\n  }\r\n\r\n  getScope(scopeName: any) {\r\n    return getScope(scopeName);\r\n  }\r\n\r\n  getState() {\r\n    return getState();\r\n  }\r\n\r\n}\r\n\r\nexport const storeService: StoreService = new StoreServiceImpl();\r\n","export interface RequestProps extends RequestInit {\n  queryParams?: { [key: string]: string }\n  pathParams?: { [key: string]: string }\n}\n\nexport interface RestService {\n  defaultProps: RequestInit;\n  post(endpoint: string, options?: RequestProps): Promise<Response>;\n  put(endpoint: string, options?: RequestProps): Promise<Response>;\n  get(endpoint: string, options?: RequestProps): Promise<Response>;\n  del(endpoint: string, options?: RequestProps): Promise<Response>;\n  request(endpoint: string, options?: RequestProps): Promise<Response>;\n  buildUrl(endpoint: string, options?: RequestProps): string;\n}\n\nclass RestServiceImpl implements RestService {\n\n  private _defaultProps: RequestInit = {\n    credentials: 'same-origin',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'pragma': 'no-cache',\n      'cache-control': 'no-cache'\n    }\n  };\n\n  get defaultProps() {\n    return this._defaultProps;\n  }\n\n  set defaultProps(props: RequestInit) {\n    if (typeof props !== 'object') {\n      throw new Error('Props must not null');\n    }\n    this._defaultProps = props;\n  }\n\n  post(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign({}, this._defaultProps, options, {\n      method: 'POST'\n    }));\n  }\n\n  put(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign({}, this._defaultProps, options, {\n      method: 'PUT'\n    }));\n  }\n\n  get(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign({}, this._defaultProps, options, {\n      method: 'GET'\n    }));\n  }\n\n  del(endpoint: string, options: RequestProps = {}) {\n    return this.request(endpoint, Object.assign({}, this._defaultProps, options, {\n      method: 'DELETE'\n    }));\n  }\n\n  request(endpoint: string, options: RequestProps = {}) {\n    if (options.headers && options.headers['Content-Type'].includes('application/json')) {\n      options.body = JSON.stringify(options.body);\n    }\n    return fetch(this.buildUrl(endpoint, options), options).then(response => {\n      if (response.status >= 200 && response.status < 300) {\n        return Promise.resolve(response)\n      }\n      return Promise.reject(response);\n    })\n  }\n\n  buildUrl(endpoint: string, options: RequestProps = {}) {\n    let url = endpoint;\n    const { queryParams, pathParams } = options;\n    if (pathParams) { // todo update logic and add exception\n      Object.getOwnPropertyNames(pathParams).forEach(key => {\n        url = url.replace(new RegExp(`{${key}}`, 'g'), pathParams[key]);\n      });\n    }\n    url.replace(new RegExp('/{.*}', 'g'), '')\n    if (queryParams) {\n      let queryUrl = Object.getOwnPropertyNames(queryParams)\n        .map(k => encodeURIComponent(k) + '=' + encodeURIComponent(queryParams[k]))\n        .join('&');\n      if (queryUrl) url += `?${queryUrl}`;\n    }\n    return url;\n  }\n\n}\n\nexport const restService: RestService = new RestServiceImpl();\n","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","import * as ReactDOM from 'react-dom';\nimport * as React from 'react';\n\nexport interface JSXService {\n  register(name: string, component): JSXService;\n\n  render(query: string, component): JSXService;\n\n  create(name: string, props?, children?: JSX.Element | JSX.Element[]);\n\n  remove(query: string): JSXService;\n}\n\nclass JSXServiceImpl implements JSXService {\n\n  protected components = {};\n\n  register(name: string, component) {\n    if (name in this.components) {\n      throw new Error(`Component with same name is register.`);\n    }\n    this.components[name] = component;\n    return this;\n  }\n\n  render(query: string, component) {\n    const nodes = document.querySelectorAll(query);\n    for (let i = 0; i < nodes.length; i++) {\n      let node = nodes.item(i);\n      ReactDOM.render(component, node)\n    }\n    return this;\n  }\n\n  create(name: string, props = {}, children: JSX.Element | JSX.Element[] = []) {\n    return React.createElement(this.components[name] || name, props, children);\n  }\n\n  remove(query: string) {\n    const nodes = document.querySelectorAll(query);\n    for (let i = 0; i < nodes.length; i++) {\n      let node = nodes.item(i);\n      node.innerHTML = '';\n    }\n    return this;\n  }\n\n}\n\nexport const jsxService: JSXService = new JSXServiceImpl();\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { jsxService, JSXService } from './service/jsx.service';\r\nimport { restService, RestService } from './service/rest.service';\r\nimport { storeService, StoreService } from './service/store.service';\r\nimport { configService, ConfigService } from './service/config.service';\r\nimport { resourceService, ResourceService } from './service/resource.service';\r\nimport { navigationService, NavigationService } from './service/navigation.service';\r\nimport { localizationService, LocalizationService } from './service/localization.service';\r\nimport { ToastApi } from './api/toast.api';\r\nimport { DialogApi } from './api/dialog.api';\r\nimport { ContextmenuApi } from './api/contextmenu.api';\r\nimport { NotificationApi } from './api/notification.api';\r\n\r\nexport {\r\n  ToastApi,\r\n  DialogApi,\r\n  ContextmenuApi,\r\n  NotificationApi\r\n}\r\n\r\nexport interface Ligui {\r\n  jsx: JSXService;\r\n  rest: RestService;\r\n  store: StoreService;\r\n  config: ConfigService;\r\n  resource: ResourceService;\r\n  navigation: NavigationService;\r\n  localization: LocalizationService;\r\n  api: {\r\n    toast?: ToastApi\r\n    dialog?: DialogApi\r\n    contextmenu?: ContextmenuApi\r\n    notification?: NotificationApi\r\n  }\r\n}\r\n\r\nclass LiguiImpl implements Ligui {\r\n  jsx = jsxService;\r\n  rest = restService;\r\n  store = storeService;\r\n  config = configService;\r\n  resource = resourceService;\r\n  navigation = navigationService;\r\n  localization = localizationService;\r\n  api = {};\r\n}\r\n\r\nexport const ligui: Ligui = global['ligui'] = new LiguiImpl();\r\n"],"sourceRoot":""}